-- --------------------------------------------------------------------------
-- LCD_hd44780_4 TEST file 
-- --------------------------------------------------------------------------
-- This file defines a test for JALLIB testing, using a test-board
--  defined by a BOARD file .
--
-- setup: an hd44780 compatible display, used in 4-bit mode.
--
-- --------------------------------------------------------------------------
-- 
-- --------------------------------------------------------------------------


include delay_any_mc

enable_digital_io()

lcd_RS_direction = output
lcd_EN_direction = output
;lcd_d4_direction = output
;lcd_d5_direction = output
;lcd_d6_direction = output
;lcd_d7_direction = output
lcd_dataport_direction = output

delay_1ms(10)

include lcd_hd44780_4               -- LCD library
include print                       -- output library

led_direction = output
for 4 loop
   LED = on
   delay_100ms(3)
   LED = off
   delay_100ms(3)
end loop


const byte str1[] = "Hello world"   -- define a string
print_string(lcd, str1)  -- output string to LCD

var byte counter = 0

forever loop                                  -- loop forever

   lcd_setcursor(1, 0) 
   print_byte_hex(lcd, counter)   -- output in hex format
   counter = counter + 1
   delay_100ms(2)

end loop






