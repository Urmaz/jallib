-- --------------------------------------------------------------------------
-- BOARD FILE
-- --------------------------------------------------------------------------
-- This file defines the configuration of a specific 
-- test-board for JALLIB testing.
--
-- BOARD DESCRIPTION
-- -----------------
--
-- * Darf board connector D0 t/m D7 pin-out of the test board:
--       D0 A0
--       D1 A1
--       D2 A2
--       D3 A3
--       D4 B0
--       D5 B4
--       D6 B3
--       D7 B1
--
-- * 20 MHz resonator
--
-- Dwarf LCD connection (with 2 additional LEDS)
-- D0 t/m D3   = dataport high nibble
-- D4          = E
-- D5          = RS
-- D6, D7      = led
-- 
--
-- At the end, include a specific test.
-- --------------------------------------------------------------------------

-- chip setup
include 16f648a

--
-- This program assumes a 20 MHz resonator or crystal
-- is connected to pins OSC1 and OSC2.
pragma target OSC HS               -- HS crystal or resonator
pragma target clock 20_000_000     -- oscillator frequency
pragma target WDT  disabled
pragma target LVP  disabled

-- LED setup 
var bit led           is pin_b3   -- alias
var bit led_direction is pin_b3_direction

-- PWM setup
;var bit pwm_direction = pin_b0_direction
           
-- LCD setup
var bit lcd_rs               is pin_b4 -- LCD command/data select. 
var bit lcd_rs_direction is pin_b4_direction   
var bit lcd_en           is pin_b0 -- LCD data trigger 
var bit lcd_en_direction is pin_b0_direction   
   
var byte lcd_dataport is porta_low -- LCD data  port
var byte lcd_dataport_direction is porta_low_direction -- LCD data  port
const byte LCD_ROWS     = 2                   -- 2 lines
const byte LCD_CHARS    = 16                  -- 16 chars per line

-- I2C setup  
var volatile bit i2c_scl            is pin_b4
var volatile bit i2c_scl_direction  is pin_b4_direction
var volatile bit i2c_sda            is pin_b3
var volatile bit i2c_sda_direction  is pin_b3_direction

-- ccp setup
var volatile bit pin_ccp1_direction is pin_b3_direction
