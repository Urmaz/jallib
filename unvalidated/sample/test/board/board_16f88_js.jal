-- ------------------------------------------------------
-- Title: BOARD FILE for [see filename]
-- Author: Joep Suijs, Copyright (c) 2008..2008, all rights reserved.
-- Adapted-by: 
-- Compiler: >=2.4g
--
-- This file is part of jallib  (http://jallib.googlecode.com)
-- Released under the BSD license (http://www.opensource.org/licenses/bsd-license.php)
--
-- Description: This file defines the configuration of a specific test-board.
-- --
-- BOARD DESCRIPTION
-- -----------------
-- --
-- * Darf board connector D0 t/m D7 pin-out of the test board:
--       D0 A0
--       D1 A1
--       D2 A2
--       D3 A3
--       D4 B0
--       D5 B4
--       D6 B3
--       D7 B1
-- --
-- * 20 MHz resonator
-- --
-- Dwarf LCD connection (with 2 additional LEDS)
-- D0 t/m D3   = dataport high nibble
-- D4          = E
-- D5          = RS
-- D6, D7      = led
-- 
-- Sources:
--
-- Notes:
--
-- ------------------------------------------------------

;@jallib section chipdef
-- chip setup
include 16f88

-- This program assumes a 20 MHz resonator or crystal
-- is connected to pins OSC1 and OSC2.
pragma target OSC       HS             -- HS crystal or resonator
pragma target clock     20_000_000     -- oscillator frequency
pragma target WDT       disabled       -- no watchdog
pragma target LVP       disabled       -- no low-voltage programming
pragma target CCP1MUX   RB3            -- ccp1 pin on B3

;@jallib section led
-- LED IO definition 
var bit led           is pin_b3                          -- led pin
var bit led_direction is pin_b3_direction

;@jallib section lcd_hd44780_4
-- LCD IO definition
var bit lcd_rs           is pin_b4                       -- LCD command/data select. 
var bit lcd_rs_direction is pin_b4_direction   
var bit lcd_en           is pin_b0                       -- LCD data trigger 
var bit lcd_en_direction is pin_b0_direction   

var byte lcd_dataport is porta_low                       -- LCD data  port
var byte lcd_dataport_direction is porta_low_direction

const byte LCD_ROWS     = 2                              -- 2 lines
const byte LCD_CHARS    = 16                             -- 16 chars per line

;@jallib section i2c
-- I2C io definition
var volatile bit i2c_scl            is pin_b4            -- i2c scl pin
var volatile bit i2c_scl_direction  is pin_b4_direction
var volatile bit i2c_sda            is pin_b3            -- i2c sda pin
var volatile bit i2c_sda_direction  is pin_b3_direction

;@jallib section ccp1
-- ccp1 setup
var volatile bit pin_ccp1_direction is pin_b3_direction  -- ccp1 pin
