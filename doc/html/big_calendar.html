<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>big_calendar - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="big_calendar">
    <h1>big_calendar</h1>
	</a>

    <div>
		<font size="+1"><i>Universal gregorian calendar routines</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Oliver "Kiste" Seitz
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4o
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>The hardware RTCC present in some PIC devices is limited to years 2000...2099. 
If you want to build e.g. a time-travelling vehicle, such a clock is of little use.
This software library implements a RTCC which is valid from friday, October 15, 1582
to presumably at least the year 7000. Earlier, the julian calendar was valid. Later, the 
inaccuracy of the gregorian leap year rules may have accumulated to a whole day. 
</pre>

	</p>
	<br/>


	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#c632e992bc4dddc3fbed14917b642ba7">bigcal_update_current()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#19d6ec6111a11471c8e6a86c07d1f041">bigcal_add_days(bigcal_datetype in out ddate, sword in distance)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e100fe616a9eb3f402666c6f06a0038f">bigcal_find_easter(bigcal_datetype in out edate)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#f17c19718a3d3d45df29a2ba850ad291">bigcal_days_per_month(word in year, byte in month) return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0859d7ed5a8eab853c7a67ff870ef6cf">bigcal_weekday(bigcal_datetype in ddate) return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="c632e992bc4dddc3fbed14917b642ba7" href="#summary">bigcal_update_current()</a></code></b>
				<p>	<pre>
Title:     Update current time and date
Arguments: none
Returns:   none
Notes:     works on global variables current_date and current_time.
"current_time.seconds" is to be updated somehow, e.g. a timer or the like.
This procedure updates all the other variables, depending on the
rising value of "current_time.seconds".
It should be called regularly. Once a second is ok, but not stricktly
necessary. "seconds" should not overflow, so this procedure must
be called at least once every four minutes.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="19d6ec6111a11471c8e6a86c07d1f041" href="#summary">bigcal_add_days(bigcal_datetype in out ddate, sword in distance)</a></code></b>
				<p>	<pre>
Title:     Alter a given date by a number of days
Arguments: - Year 
 Month 
 Day 
 distance
Returns:   A modified date (year,month,day)
Notes:     distance can be positive, moves date to the future
distance can be negative, moves date to the past
+/-32768 days is a bit more than 89 years

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e100fe616a9eb3f402666c6f06a0038f" href="#summary">bigcal_find_easter(bigcal_datetype in out edate)</a></code></b>
				<p>	<pre>
Title:     Find date of easter sunday
Arguments: year in datetype record
Returns:   complete datetype record with date of easter sunday
Notes:     Calculates the date of easter sunday using formulae
created by C.F. Gauss, modified by Dr. H. Lichtenberg
as published by the german date and time authority
"Physikalisch-Technische Bundesanstalt".

</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="f17c19718a3d3d45df29a2ba850ad291" href="#summary">bigcal_days_per_month(word in year, byte in month) return byte</a></code></b>
				<p>	<pre>
Title:     Number of days per month
Arguments: - Year (from 1582 up)
 Month (1 to 12)
Returns:   Number of days in the specified month (28,29,30 or 31)
Notes:     Respects leap years as defined by the gregorian calendar.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0859d7ed5a8eab853c7a67ff870ef6cf" href="#summary">bigcal_weekday(bigcal_datetype in ddate) return byte</a></code></b>
				<p>	<pre>
Title:     Weekday
Arguments: - Year (from 1582 up)
 Month (1 to 12)
 Day (1 to 31)
Returns:   Weekday of the given date (0=sunday, 1=monday...)
Notes:     Based on "Zeller's congruence"

</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>16f688</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f688_big_calendar.jal" target="_blank">16f688_big_calendar.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

