<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>ip_header - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="ip_header">
    <h1>ip_header</h1>
	</a>

    <div>
		<font size="+1"><i>Creates a IP Header</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Matthew Schinkel - borntechi.com, copyright &copy; 2011, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4n
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>this library creates a IP header
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>http://www.faqs.org/rfcs/rfc791.html
http://www.tekelec.com/ss7/protocols/ip2.asp
http://www.networksorcery.com/enp/protocol/ip.htm
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#9a88fbd4f5f2807295db8bac32009f5a">const IP_HEADER_SOURCE_IP_1 = 14</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#18b843f0ef50a3678be8e59e77357460">const IP_HEADER_SOURCE_IP_0 = 15</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#4647bb24d67133e098be9464b6ec776c">const IP_HEADER_IDENTIFICATION = 4 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ed656147366606c28a405e51252d46af">const IP_HEADER_SERVICE = 1 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ca9bd99dec112f53c715ac4e29b91fab">const IP_HEADER_DESTINATION_IP_0 = 19</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#469cb006b960b32e3d3a46ceac821a03">const IP_HEADER_DESTINATION_IP_2 = 17</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f6438593d7455da75512e66b0e98f1d3">var byte ip_header_size = 20</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#99d83dfbfd124fd4af567473070dfb1d">const byte ICMP = 1 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#be3fdda88295247067a7f78aaa4b7985">const IP_HEADER_CHECKSUM = 10</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#574dcd38e498749a027ef4b307eef2d9">const IP_HEADER_PROTOCOL = 9 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#7b89cb830280257d1d942d5ff924a903">const IP_HEADER_TOTAL_LENGTH = 2 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5ecbf7fd759b4a0c4a707cc174f9c9d6">const IP_HEADER_SOURCE_IP_2 = 13</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d20c1d36d0c45b7ae527450df11f95ec">const IP_HEADER_DESTINATION_IP_1 = 18</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#59505220d20f7aa652016468b675d1c9">const IP_HEADER_VERSION_LENGTH = 0 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d38c5cd050cdf927f8f88b6c7153ae97">const IP_HEADER_FLAGS_OFFSET = 6 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#10e0e0f09f2061a29037cd127fc78de6">const byte TCP = 6  </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5d80f332ab50475e61a485e093f702c7">const IP_HEADER_DESTINATION_IP_3 = 16</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#fea111da15d6d49744d86ec5fbdc0a0d">const IP_HEADER_SOURCE_IP_3 = 12</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#de36939ded2fec6e6342b89c7dfde12e">const IP_HEADER_TTL = 8 </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#36fcfc54585f3d1886efdabf00f00cdd">const byte UDP = 17 </a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#90c9791e6db8419aa8b88824609db47f">ip_header_set_source_ip()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#707c641ab5c6dc6734269ffb06097125">ip_header_create(byte in protocol_select, word in data_length)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0b2b17f19fd99caa1837d8fde56d609d">ip_header_read_packet()</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#45c8b2e0fbdfb3fa687d08669fda6e72">ip_header_verify() return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="9a88fbd4f5f2807295db8bac32009f5a" href="#summary">const IP_HEADER_SOURCE_IP_1 = 14</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="18b843f0ef50a3678be8e59e77357460" href="#summary">const IP_HEADER_SOURCE_IP_0 = 15</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="4647bb24d67133e098be9464b6ec776c" href="#summary">const IP_HEADER_IDENTIFICATION = 4 </a></code></b>
				<p>	<pre>word</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ed656147366606c28a405e51252d46af" href="#summary">const IP_HEADER_SERVICE = 1 </a></code></b>
				<p>	<pre>byte</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ca9bd99dec112f53c715ac4e29b91fab" href="#summary">const IP_HEADER_DESTINATION_IP_0 = 19</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="469cb006b960b32e3d3a46ceac821a03" href="#summary">const IP_HEADER_DESTINATION_IP_2 = 17</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f6438593d7455da75512e66b0e98f1d3" href="#summary">var byte ip_header_size = 20</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="99d83dfbfd124fd4af567473070dfb1d" href="#summary">const byte ICMP = 1 </a></code></b>
				<p>	<pre>protocol types, for "IP_HEADER_PROTOCOL"
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="be3fdda88295247067a7f78aaa4b7985" href="#summary">const IP_HEADER_CHECKSUM = 10</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="574dcd38e498749a027ef4b307eef2d9" href="#summary">const IP_HEADER_PROTOCOL = 9 </a></code></b>
				<p>	<pre>byte</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="7b89cb830280257d1d942d5ff924a903" href="#summary">const IP_HEADER_TOTAL_LENGTH = 2 </a></code></b>
				<p>	<pre>word</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5ecbf7fd759b4a0c4a707cc174f9c9d6" href="#summary">const IP_HEADER_SOURCE_IP_2 = 13</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d20c1d36d0c45b7ae527450df11f95ec" href="#summary">const IP_HEADER_DESTINATION_IP_1 = 18</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="59505220d20f7aa652016468b675d1c9" href="#summary">const IP_HEADER_VERSION_LENGTH = 0 </a></code></b>
				<p>	<pre>byte</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d38c5cd050cdf927f8f88b6c7153ae97" href="#summary">const IP_HEADER_FLAGS_OFFSET = 6 </a></code></b>
				<p>	<pre>word</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="10e0e0f09f2061a29037cd127fc78de6" href="#summary">const byte TCP = 6  </a></code></b>
				<p>	<pre>TCP protocol number for ip header</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5d80f332ab50475e61a485e093f702c7" href="#summary">const IP_HEADER_DESTINATION_IP_3 = 16</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="fea111da15d6d49744d86ec5fbdc0a0d" href="#summary">const IP_HEADER_SOURCE_IP_3 = 12</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="de36939ded2fec6e6342b89c7dfde12e" href="#summary">const IP_HEADER_TTL = 8 </a></code></b>
				<p>	<pre>byte</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="36fcfc54585f3d1886efdabf00f00cdd" href="#summary">const byte UDP = 17 </a></code></b>
				<p>	<pre>UDP protocol number for ip header</pre>
</p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="90c9791e6db8419aa8b88824609db47f" href="#summary">ip_header_set_source_ip()</a></code></b>
				<p>	<pre>
Set source ip address in ip header

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="707c641ab5c6dc6734269ffb06097125" href="#summary">ip_header_create(byte in protocol_select, word in data_length)</a></code></b>
				<p>	<pre>
Send a ip header

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0b2b17f19fd99caa1837d8fde56d609d" href="#summary">ip_header_read_packet()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="45c8b2e0fbdfb3fa687d08669fda6e72" href="#summary">ip_header_verify() return byte</a></code></b>
				<p>	<pre>
Verify incomming ip header. Checks that ip header ip address is
the same as our local ip address. checks ip header checksum

</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_server.jal" target="_blank">18f4620_network_udp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_webserver_enc28j60.jal" target="_blank">18f4620_network_webserver_enc28j60.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_client.jal" target="_blank">18f4620_network_udp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_all_in_one.jal" target="_blank">18f4620_network_all_in_one.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_slip_isr_ping_udp.jal" target="_blank">18f4620_network_slip_isr_ping_udp.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_client.jal" target="_blank">18f4620_network_tcp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_server.jal" target="_blank">18f4620_network_tcp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_ping.jal" target="_blank">18f4620_network_ping.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

