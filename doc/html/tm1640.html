<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>tm1640 - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="tm1640">
    <h1>tm1640</h1>
	</a>

    <div>
		<font size="+1"><i>Library to support 7-segment display module with TM1640</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Rob Hamerling, Copyright &copy; 2014..2014, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4q2
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>Library for a module with TM1640 with
- serial interface
- 16  7-segment displays with dp (decimal point)
.
Data may be displayed anywhere in the 7-segment displays.
The position may be specified with an offset (depending on data type)
.
The tm1640 module uses 2 data wires, which have to be specified by the user.
Before including this library declare the following aliases (mandatory):
.
alias tm1640_din            is pin_??                    -- pin for data I/O signal
alias tm1640_clk            is pin_??                    -- pin for clock signal
which should be set to OUTPUT by the user program
.
The following constant may be specified as well (optionally):
.
const byte TM1640_WIDTH    =  ?          (number of 7-segment digits, defaults to 16)
.
Initialize the TM1640 with tm1640_init()
</pre>

	</p>
	<br/>


	<b>Notes</b>
	<p>
		<pre>- Supports (= has been tested) with a module with tm1640 chip
         and 16 7-segment display digits
</pre>

	</p>
	<br/>
	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="tm1638_font.html">tm1638_font</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#b0ce265eea20ff3cf8c801a8102f0fad">const  byte  TM1640_DISPLAY_PWM1     = 0b_1000_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#89c87eb7f538780b37bce9a96c521df6">const  byte  TM1640_DISPLAY_PWM10    = 0b_1000_0011       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#db7702e72703f2d77e5a39265f803119">const  byte  TM1640_ADDRESS_SELECT   = 0b_1100_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e43a4230167744e14287d34b392790f5">const  byte  TM1640_DISPLAY_PWM13    = 0b_1000_0110       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#00f35e857643fef0092e7caf5b9e403d">const  byte  TM1640_DISPLAY_ON       = 0b_1000_1000</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0c4e0755bbdf78ff335912ccdbd5e003">const  byte  TM1640_DISPLAY_PWM12    = 0b_1000_0101       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#bc1453197e4aebaa6d8e1e5701057039">const  byte  TM1640_DOT              = 0b_1000_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#cf62c3da850b48ff13eb7b01bac333a6">const  byte  TM1640_DISPLAY_PWM11    = 0b_1000_0100       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#55311d63aa941b4eb7ce6a18a133b8e1">const  byte  TM1640_DISPLAY_PWM2     = 0b_1000_0001       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#9ec5df9e1ab73acf72b59454675eb720">const  byte  TM1640_DISPLAY_PWM4     = 0b_1000_0010       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5b3154c57ce2465b16bed0d557af35b7">const  byte  TM1640_MODE_NORMAL      = 0b_0100_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#780d349a6e7187b0f5923a94cbfc016f">const  byte  TM1640_WRITE_DATA       = 0b_0100_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#326f3326cfc39b878a0fde54b1303ba0">const  byte  TM1640_DISPLAY_PWM14    = 0b_1000_0111       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#77f8f042df23b21daab3abbfdad00e10">const  byte  TM1640_ADDRESS_FIXED    = 0b_0100_0100       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#89317db3a5884b863846e5bc38e28068">const  byte  TM1640_MODE_TEST        = 0b_0100_1000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f5ab3d69afdae0e2b1c7998675175084">const  byte  TM1640_ADDRESS_AUTO     = 0b_0100_0000       </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#4546e0ea945731f05caac304aa2a2a00">const  byte  TM1640_DISPLAY_OFF      = 0b_1000_0000</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#c07f0dd2c4d57125bf94562c3df9d582">tm1640_init()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5b5fe9472db255e1ae51b9468b5f4d1c">tm1640_display_clear()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#29b6ad608c4ed47d58e4c75533072ee7">tm1640_display_word_bin(word in number)</a></code></b>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#2ee1569efd5f973933b6c402d23b0555">_tm1640_write_byte_raw(byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#7b8bfffc4fe164792ea645b5041af643">_tm1640_write_command(byte in cmd)</a></code></b>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="b0ce265eea20ff3cf8c801a8102f0fad" href="#summary">const  byte  TM1640_DISPLAY_PWM1     = 0b_1000_0000       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="89c87eb7f538780b37bce9a96c521df6" href="#summary">const  byte  TM1640_DISPLAY_PWM10    = 0b_1000_0011       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="db7702e72703f2d77e5a39265f803119" href="#summary">const  byte  TM1640_ADDRESS_SELECT   = 0b_1100_0000       </a></code></b>
				<p>	<pre>base of command byte</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e43a4230167744e14287d34b392790f5" href="#summary">const  byte  TM1640_DISPLAY_PWM13    = 0b_1000_0110       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="00f35e857643fef0092e7caf5b9e403d" href="#summary">const  byte  TM1640_DISPLAY_ON       = 0b_1000_1000</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0c4e0755bbdf78ff335912ccdbd5e003" href="#summary">const  byte  TM1640_DISPLAY_PWM12    = 0b_1000_0101       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="bc1453197e4aebaa6d8e1e5701057039" href="#summary">const  byte  TM1640_DOT              = 0b_1000_0000       </a></code></b>
				<p>	<pre>segment of decimal point</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="cf62c3da850b48ff13eb7b01bac333a6" href="#summary">const  byte  TM1640_DISPLAY_PWM11    = 0b_1000_0100       </a></code></b>
				<p>	<pre>PWM dutycycle for LEDs</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="55311d63aa941b4eb7ce6a18a133b8e1" href="#summary">const  byte  TM1640_DISPLAY_PWM2     = 0b_1000_0001       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="9ec5df9e1ab73acf72b59454675eb720" href="#summary">const  byte  TM1640_DISPLAY_PWM4     = 0b_1000_0010       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5b3154c57ce2465b16bed0d557af35b7" href="#summary">const  byte  TM1640_MODE_NORMAL      = 0b_0100_0000       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="780d349a6e7187b0f5923a94cbfc016f" href="#summary">const  byte  TM1640_WRITE_DATA       = 0b_0100_0000       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="326f3326cfc39b878a0fde54b1303ba0" href="#summary">const  byte  TM1640_DISPLAY_PWM14    = 0b_1000_0111       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="77f8f042df23b21daab3abbfdad00e10" href="#summary">const  byte  TM1640_ADDRESS_FIXED    = 0b_0100_0100       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="89317db3a5884b863846e5bc38e28068" href="#summary">const  byte  TM1640_MODE_TEST        = 0b_0100_1000       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f5ab3d69afdae0e2b1c7998675175084" href="#summary">const  byte  TM1640_ADDRESS_AUTO     = 0b_0100_0000       </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="4546e0ea945731f05caac304aa2a2a00" href="#summary">const  byte  TM1640_DISPLAY_OFF      = 0b_1000_0000</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="c07f0dd2c4d57125bf94562c3df9d582" href="#summary">tm1640_init()</a></code></b>
				<p>	<pre>
Title:  Initialize TM1640 module
Notes:

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5b5fe9472db255e1ae51b9468b5f4d1c" href="#summary">tm1640_display_clear()</a></code></b>
				<p>	<pre>
Title:  Clear all display digits (inclusive decimal point)
Input:  (none)
Notes:  - Set display into normal mode (disable test mode)
and set display into fixed address mode at return.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="29b6ad608c4ed47d58e4c75533072ee7" href="#summary">tm1640_display_word_bin(word in number)</a></code></b>
				<p>	<pre>
Title: Display binary number (word, 16 bits)
Input: word with value to be displayed

</pre>
</p>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="2ee1569efd5f973933b6c402d23b0555" href="#summary">_tm1640_write_byte_raw(byte in data)</a></code></b>
				<p>	<pre>
Title:  Send byte 'raw' to the TM1640 (8 bits bit-banging)
Input:  byte to be transferred
Notes:  - tm1640_din should have been reset before calling this procedure
 must be followed by 1 clock cycle after last byte of an operation
 data handling and loop logic ensure that timing constraints
are not exceeded (tested with 32 MHz oscillator frequency)

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="7b8bfffc4fe164792ea645b5041af643" href="#summary">_tm1640_write_command(byte in cmd)</a></code></b>
				<p>	<pre>
Title:  Send a command (single byte) to the TM1640
Input:  - Byte with command

</pre>
</p>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>12f1572</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/12f1572_tm1640.jal" target="_blank">12f1572_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>12f683</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/12f683_tm1640.jal" target="_blank">12f683_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f648a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f648a_tm1640.jal" target="_blank">16f648a_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f723</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f723_tm1640.jal" target="_blank">16f723_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f73</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f73_tm1640.jal" target="_blank">16f73_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_tm1640.jal" target="_blank">16f877_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_tm1640.jal" target="_blank">16f877a_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>16f88</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f88_tm1640.jal" target="_blank">16f88_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f14k50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f14k50_tm1640.jal" target="_blank">18f14k50_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2450</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2450_tm1640.jal" target="_blank">18f2450_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2520</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2520_tm1640.jal" target="_blank">18f2520_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2550_tm1640.jal" target="_blank">18f2550_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2620_tm1640.jal" target="_blank">18f2620_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_tm1640.jal" target="_blank">18f452_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_tm1640.jal" target="_blank">18f4550_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_tm1640.jal" target="_blank">18f4620_tm1640.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_tm1640.jal" target="_blank">18f67j50_tm1640.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

