<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>usb_drv_cdc_class - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="usb_drv_cdc_class">
    <h1>usb_drv_cdc_class</h1>
	</a>

    <div>
		<font size="+1"><i>USB Communication Device Class driver</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Albert Faber, Copyright (c) 2008..2009, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			-
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4j
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>USB Cummunication Device code



</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>http://www.usb.org for USB specifications
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#71609f676728e69f55db2787279fac82">var byte cdc_line_status = 0x00
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#700a5c2b7d079db3d918422b40099088">var byte cdc_line_coding_parity at cdc_line_coding[5]       -- 0=None, 1=Odd, 2=Even, 3=Mark, 4=Space
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#43baaf214d667c37292047ce40705bec">const byte USB_REQ_SEND_BREAK = 0x23
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#db7a53cece14df9f9f92a6b82b0b09a3">var byte cdc_line_coding_stop_bits at cdc_line_coding[4]    -- 0=1 stop bit, 1=1.5 stop bits, 2=2 stop bits
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#6a258c1082d55259975cb1b0d948fe53">const byte USB_REQ_GET_LINE_CODING = 0x21
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#894653b007ca755b02cf63a1d920cba0">var byte cdc_tx_rd=0
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#46184b4c3b0e4203bb4add2742b9ba4e">var dword cdc_line_coding_dte_rate at cdc_line_coding[0]
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#1e2d6c4581a4a0a6cfc8fe9ab86d10ab">var byte cdc_rx_wr = 0
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c40ddd1e6b1bfc17d1f2b5daa460a4a8">const byte USB_REQ_GET_ENCAPSULATED_RESPONSE = 0x01
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d3d3e7ed189a998529f88175403bd580">var byte cdc_tx_buffer[USB_CDC_TX_BUFFER_SIZE] at  USB_CDC_TX_BUFFER_LOC
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d94716b7a5e309cbf8974e003f477a6d">var byte cdc_tx_wr=0
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#94ad025aa4c621b5bd9c33afa693cbde">const byte USB_REQ_SET_CONTROL_LINE_STATE = 0x22
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c8aa8d576828e4548870e5c9088df34f">const byte USB_REQ_CLEAR_COMM_FEATURE = 0x04
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ba0bfa0f3ccf687c4c17381333aa8bfe">const byte USB_REQ_SET_COMM_FEATURE = 0x02
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#6aba3bd37543b244d784104febfba7a4">var bit last_packet_is_full = false
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b436f7c35d7add9c4462ab5a26a06532">var byte cdc_rx_rd = 0
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3468232869ab150455be7ec568e6c040">var byte cdc_line_coding[7]
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0447b00cda1b2db1de36d03589de54e2">const byte USB_REQ_SET_LINE_CODING = 0x20
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3aceb6369020fd43271eed7caa2025a3">var byte cdc_line_coding_data_bits at cdc_line_coding[6]    -- 5,6,7,8 or 16 bits
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5a6cd246232de57216d562a0f604fb34">const byte USB_REQ_SEND_ENCAPSULATED_COMMAND	= 0x00
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b768f36be638aa61aad20c8e5c932c94">var byte cdc_rx_buffer[USB_CDC_RX_BUFFER_SIZE] at  USB_CDC_RX_BUFFER_LOC
</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#821b320f21b4a76496eef997e2804acd">usb_handle_class_request_callback()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ea6b1f15ff85043486e49c8e9bf0b063">usb_handle_class_ctrl_read_callback()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f451dd877c72eaa48cdf5d1464c6fbef">usb_ep_data_in_callback(byte in end_point, word in buffer_addr, word in byte_count)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b668997307b1ad66a40213380c6ed5cf">usb_cdc_putc(byte in c)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#943b9721ceeae048bbc372b815ea6647">usb_cdc_handle_tx()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#7fa585d1e13980a194c675bb6f6b2338">usb_handle_class_ctrl_write_callback()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#07e2ad4d28529381837dcb7694bbc2c4">usb_sof_callback()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#43d2c8422eb7a33e823a9f18407a5afb">usb_cdc_setup()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#10bada5da1ddd3cb1002cb2aa19d40c5">usb_ep_data_out_callback(byte in end_point, word in buffer_addr, word in byte_count)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#91826177975503d587283eaea06244a9">usb_cdc_rx_avail() return bit</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f611f639cd92e026cf5d1d76d6d363d4">usb_cdc_line_status() return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#89de70291f2716551b6e61cca508f295">usb_cdc_getc() return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#708b9418c5edeae63cfe0a8e76a4d476">usb_cdc_tx_empty() return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="71609f676728e69f55db2787279fac82" href="#summary">var byte cdc_line_status = 0x00
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="700a5c2b7d079db3d918422b40099088" href="#summary">var byte cdc_line_coding_parity at cdc_line_coding[5]       -- 0=None, 1=Odd, 2=Even, 3=Mark, 4=Space
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="43baaf214d667c37292047ce40705bec" href="#summary">const byte USB_REQ_SEND_BREAK = 0x23
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="db7a53cece14df9f9f92a6b82b0b09a3" href="#summary">var byte cdc_line_coding_stop_bits at cdc_line_coding[4]    -- 0=1 stop bit, 1=1.5 stop bits, 2=2 stop bits
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="6a258c1082d55259975cb1b0d948fe53" href="#summary">const byte USB_REQ_GET_LINE_CODING = 0x21
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="894653b007ca755b02cf63a1d920cba0" href="#summary">var byte cdc_tx_rd=0
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="46184b4c3b0e4203bb4add2742b9ba4e" href="#summary">var dword cdc_line_coding_dte_rate at cdc_line_coding[0]
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="1e2d6c4581a4a0a6cfc8fe9ab86d10ab" href="#summary">var byte cdc_rx_wr = 0
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c40ddd1e6b1bfc17d1f2b5daa460a4a8" href="#summary">const byte USB_REQ_GET_ENCAPSULATED_RESPONSE = 0x01
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d3d3e7ed189a998529f88175403bd580" href="#summary">var byte cdc_tx_buffer[USB_CDC_TX_BUFFER_SIZE] at  USB_CDC_TX_BUFFER_LOC
</a></code></b>
				<p>	<pre>Transmit fifo
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d94716b7a5e309cbf8974e003f477a6d" href="#summary">var byte cdc_tx_wr=0
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="94ad025aa4c621b5bd9c33afa693cbde" href="#summary">const byte USB_REQ_SET_CONTROL_LINE_STATE = 0x22
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c8aa8d576828e4548870e5c9088df34f" href="#summary">const byte USB_REQ_CLEAR_COMM_FEATURE = 0x04
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ba0bfa0f3ccf687c4c17381333aa8bfe" href="#summary">const byte USB_REQ_SET_COMM_FEATURE = 0x02
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="6aba3bd37543b244d784104febfba7a4" href="#summary">var bit last_packet_is_full = false
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b436f7c35d7add9c4462ab5a26a06532" href="#summary">var byte cdc_rx_rd = 0
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3468232869ab150455be7ec568e6c040" href="#summary">var byte cdc_line_coding[7]
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0447b00cda1b2db1de36d03589de54e2" href="#summary">const byte USB_REQ_SET_LINE_CODING = 0x20
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3aceb6369020fd43271eed7caa2025a3" href="#summary">var byte cdc_line_coding_data_bits at cdc_line_coding[6]    -- 5,6,7,8 or 16 bits
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5a6cd246232de57216d562a0f604fb34" href="#summary">const byte USB_REQ_SEND_ENCAPSULATED_COMMAND	= 0x00
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b768f36be638aa61aad20c8e5c932c94" href="#summary">var byte cdc_rx_buffer[USB_CDC_RX_BUFFER_SIZE] at  USB_CDC_RX_BUFFER_LOC
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="821b320f21b4a76496eef997e2804acd" href="#summary">usb_handle_class_request_callback()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ea6b1f15ff85043486e49c8e9bf0b063" href="#summary">usb_handle_class_ctrl_read_callback()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f451dd877c72eaa48cdf5d1464c6fbef" href="#summary">usb_ep_data_in_callback(byte in end_point, word in buffer_addr, word in byte_count)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b668997307b1ad66a40213380c6ed5cf" href="#summary">usb_cdc_putc(byte in c)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="943b9721ceeae048bbc372b815ea6647" href="#summary">usb_cdc_handle_tx()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="7fa585d1e13980a194c675bb6f6b2338" href="#summary">usb_handle_class_ctrl_write_callback()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="07e2ad4d28529381837dcb7694bbc2c4" href="#summary">usb_sof_callback()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="43d2c8422eb7a33e823a9f18407a5afb" href="#summary">usb_cdc_setup()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="10bada5da1ddd3cb1002cb2aa19d40c5" href="#summary">usb_ep_data_out_callback(byte in end_point, word in buffer_addr, word in byte_count)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="91826177975503d587283eaea06244a9" href="#summary">usb_cdc_rx_avail() return bit</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f611f639cd92e026cf5d1d76d6d363d4" href="#summary">usb_cdc_line_status() return byte</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="89de70291f2716551b6e61cca508f295" href="#summary">usb_cdc_getc() return byte</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="708b9418c5edeae63cfe0a8e76a4d476" href="#summary">usb_cdc_tx_empty() return byte</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f2450</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2450_usb_cdc.jal" target="_blank">18f2450_usb_cdc.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_usb_cdc.jal" target="_blank">18f4550_usb_cdc.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

