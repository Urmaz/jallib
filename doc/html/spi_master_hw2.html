<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>spi_master_hw2 - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="spi_master_hw2">
    <h1>spi_master_hw2</h1>
	</a>

    <div>
		<font size="+1"><i>SPI Master, driving MSSP2 module</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Sebastien Lelong Copyright &copy; 2011, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4n
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>SPI Master hardware control.
Routines for sending and receiving through the SPI in master mode, using MSSP2
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>good overview of SPI at http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus
also at: http://elm-chan.org/docs/spi_e.html
</pre>

	</p>
	<br/>

	<b>Notes</b>
	<p>
		<pre>this is a rough duplication of spi_master_hw.jal at rev 1537,
(http://code.google.com/p/jallib/source/browse/trunk/include/peripheral/spi/spi_master_hw.jal?r=1537)
originally written by William Welch, from which MSSP1 registers were modified to match MSSP2 names.
</pre>

	</p>
	<br/>
	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="spi_common.html">spi_common</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#ad34e1cd1ad77d587bd12fd07d7b0a71">spi_master_hw2'put(byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#1691afa401b1f9d87d5fb2e776053dfc">spi_master_hw2_set_speed(byte in spi_rate)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#10fa74b76ea3b3a07b106de11710d27f">spi_master_hw2_set_mode_10()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c1386470916db24242751cfb5338afba">spi_master_hw2_set_mode_11()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#a39ede346937a6811e7d06f5447664cd">spi2_init(byte in spi_mode, byte in spi_rate)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b390cca707a9a5d7643557da01d16a72">spi_master_hw2_set_mode_01()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#6bc74f10f337eee316f18ab558226de4">spi_master_hw2_set_mode_00()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ad3e9f64e7e9cbee3244fdb14a7e5619">spi_master_hw2_set_mode(byte in spi_mode)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#08445c688856e709622289e684c8946a">spi_master_hw2'get() return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c702a03f1c27c67a224c848a9d9ce920">spi_master_hw2_exchange(byte in m_data) return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="ad34e1cd1ad77d587bd12fd07d7b0a71" href="#summary">spi_master_hw2'put(byte in data)</a></code></b>
				<p>	<pre>half-duplex convenience function. send data to slave, discard reply
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="1691afa401b1f9d87d5fb2e776053dfc" href="#summary">spi_master_hw2_set_speed(byte in spi_rate)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="10fa74b76ea3b3a07b106de11710d27f" href="#summary">spi_master_hw2_set_mode_10()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c1386470916db24242751cfb5338afba" href="#summary">spi_master_hw2_set_mode_11()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="a39ede346937a6811e7d06f5447664cd" href="#summary">spi2_init(byte in spi_mode, byte in spi_rate)</a></code></b>
				<p>	<pre>Initialize the SPI registers.
Note: check your datasheet -- TRIS settings, any SPI errata?
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b390cca707a9a5d7643557da01d16a72" href="#summary">spi_master_hw2_set_mode_01()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="6bc74f10f337eee316f18ab558226de4" href="#summary">spi_master_hw2_set_mode_00()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ad3e9f64e7e9cbee3244fdb14a7e5619" href="#summary">spi_master_hw2_set_mode(byte in spi_mode)</a></code></b>
				<p>	<pre>Specify SPI mode (see spi_common for predefined constant you can use
as parameters)
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="08445c688856e709622289e684c8946a" href="#summary">spi_master_hw2'get() return byte</a></code></b>
				<p>	<pre>half-duplex convenience function. send 0xFF, get slave data
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c702a03f1c27c67a224c848a9d9ce920" href="#summary">spi_master_hw2_exchange(byte in m_data) return byte</a></code></b>
				<p>	<pre>SPI is full-duplex, so we exchange master and slave data byte
</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f27j53</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f27j53_sd_card_minix_demo.jal" target="_blank">18f27j53_sd_card_minix_demo.jal</a></td>
			</tr>
			<tr>
			<td><b>18f27j53</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f27j53_sd_card_minix_readi.jal" target="_blank">18f27j53_sd_card_minix_readi.jal</a></td>
			</tr>
			<tr>
			<td><b>18f27j53</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f27j53_sd_card_minix_read.jal" target="_blank">18f27j53_sd_card_minix_read.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

