<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>networking - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="networking">
    <h1>networking</h1>
	</a>

    <div>
		<font size="+1"><i>Networking main procedures</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Matthew Schinkel - borntechi.com, copyright &copy; 2011, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4n
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>recieves packets and forwards them to the next next protocol
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>http://www.comptechdoc.org/independent/networking/protocol/protnet.html
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="random.html">random</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#19562f598e83fb1ddf631849d8d53a7b">var word network_packet_size = 0</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#fa3a0386af04eed78cf5aad680137ffc">var byte network_remote_mac[6]</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e1306e202634250c94b4f35f6a4864b0">var dword _network_remote_ip</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#614344b22159414aed6d156b83a3daad">var byte network_remote_ip[4] at _network_remote_ip</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b106787e12ccaa0dfa21db8bfb1be291">var word network_var_offset = 0</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#e3f7a9c6089baab2cb322f16bd6d34d9">network_poll()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#a50437ab956092ec9e4ccc6b7fa7f4d6">network_byte'put(word in variable,byte in value)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#21fea34ebd54bbd25c552903f596fb67">network_received_packet()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#65e89daefadb113d7a8cf3f1c8c710ab">network_dword'put(word in variable, dword in value)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#bcb309667b09a2b8ce610168615de168">network_switch_dword_bytes(dword in out data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d76b1625baa7e03c3ea179500ba54ede">network_set_remote_ip(byte in ip_0,byte in ip_1,byte in ip_2,byte in ip_3)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#9eb43354dff62f324c6ea80c16f8845b">network_word'put(word in variable, word in value)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#e50b9c7bac77bcb613693ed52f41058b">network_word'get(word in variable) return word</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#90521f96319184e9c835508e47a34265">network_checksum_16_byte_verify(word in start, word in size) return bit</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#fae38ecdd62897d4abe2d96298cb7bb0">network_dword'get(word in variable) return dword</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#fb4090d402a6409dc27a0a3ea9ff91f5">network_checksum_16_byte_calc(word in start, word in size) return word</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ccd67f6dfe6c5b21f288f035ac600a02">network_byte'get(word in variable) return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="19562f598e83fb1ddf631849d8d53a7b" href="#summary">var word network_packet_size = 0</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="fa3a0386af04eed78cf5aad680137ffc" href="#summary">var byte network_remote_mac[6]</a></code></b>
				<p>	<pre>MAC address of other end
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e1306e202634250c94b4f35f6a4864b0" href="#summary">var dword _network_remote_ip</a></code></b>
				<p>	<pre>IP address of other end
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="614344b22159414aed6d156b83a3daad" href="#summary">var byte network_remote_ip[4] at _network_remote_ip</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b106787e12ccaa0dfa21db8bfb1be291" href="#summary">var word network_var_offset = 0</a></code></b>
				<p>	<pre>variable offset for variables in the network_data
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="e3f7a9c6089baab2cb322f16bd6d34d9" href="#summary">network_poll()</a></code></b>
				<p>	<pre>
poll to see if there are any packets waiting for us

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="a50437ab956092ec9e4ccc6b7fa7f4d6" href="#summary">network_byte'put(word in variable,byte in value)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="21fea34ebd54bbd25c552903f596fb67" href="#summary">network_received_packet()</a></code></b>
				<p>	<pre>
Reads a recieve packet. Verifies IP Header data such as IP
address and checksum (with ip_header.jal), then sends the
rest of the data to the correct procedure depending on packet type.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="65e89daefadb113d7a8cf3f1c8c710ab" href="#summary">network_dword'put(word in variable, dword in value)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="bcb309667b09a2b8ce610168615de168" href="#summary">network_switch_dword_bytes(dword in out data)</a></code></b>
				<p>	<pre>
switch byte order in a dword

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d76b1625baa7e03c3ea179500ba54ede" href="#summary">network_set_remote_ip(byte in ip_0,byte in ip_1,byte in ip_2,byte in ip_3)</a></code></b>
				<p>	<pre>
set remote ip address

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="9eb43354dff62f324c6ea80c16f8845b" href="#summary">network_word'put(word in variable, word in value)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="e50b9c7bac77bcb613693ed52f41058b" href="#summary">network_word'get(word in variable) return word</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="90521f96319184e9c835508e47a34265" href="#summary">network_checksum_16_byte_verify(word in start, word in size) return bit</a></code></b>
				<p>	<pre>
Verify 16bit checksum from a byte array using every 2 bytes in the array.
Mostly used for IP header checksums.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="fae38ecdd62897d4abe2d96298cb7bb0" href="#summary">network_dword'get(word in variable) return dword</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="fb4090d402a6409dc27a0a3ea9ff91f5" href="#summary">network_checksum_16_byte_calc(word in start, word in size) return word</a></code></b>
				<p>	<pre>
Computes a 16bit checksum from a byte array using every 2 bytes in the array.
Mostly used for IP header checksums.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ccd67f6dfe6c5b21f288f035ac600a02" href="#summary">network_byte'get(word in variable) return byte</a></code></b>
				<p>	<pre>
functions to get/put variables into the network array

</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_server.jal" target="_blank">18f4620_network_udp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_webserver_enc28j60.jal" target="_blank">18f4620_network_webserver_enc28j60.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_client.jal" target="_blank">18f4620_network_udp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_all_in_one.jal" target="_blank">18f4620_network_all_in_one.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_slip_isr_ping_udp.jal" target="_blank">18f4620_network_slip_isr_ping_udp.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_client.jal" target="_blank">18f4620_network_tcp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_server.jal" target="_blank">18f4620_network_tcp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_ping.jal" target="_blank">18f4620_network_ping.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

