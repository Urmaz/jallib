<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>lcd_hd44780_pcf8574 - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="lcd_hd44780_pcf8574">
    <h1>lcd_hd44780_pcf8574</h1>
	</a>

    <div>
		<font size="+1"><i>LCD library for HD44780 compatible LCDs, interfaced with pcf8574</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Joep Suijs, Copyright &copy; 2011..2011, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4g
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>   i2c bus interface for HD44780 compatible alphanumeric LCD screens.
   Tested on the DFRobot 'i2c/twi lcd 1602 module'
   See bits on lcd_shadow for the connection from the pcf8574 to the LCD.
 --
   Directions for use of this library in application programs
   (in this sequence):
   1. Setup i2c master (include i2c_hardware or include i2c_software)



   2. Declare the following constants:
         const byte LCD_ROWS     = 2              -- 1, 2 or 4 lines
         const byte LCD_CHARS    = 16             -- 8, 16 or 20 chars per line



   3. Include this library.



   4. Call lcd_init() to initialize the lcd controller.



   Above is an example for a 2x16 LCD, connected to pin d0



   See hd_44780_common for the LCD API.
</pre>

	</p>
	<br/>


	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="delay.html">delay</a></li>
			<li><a href="lcd_hd44780_common.html">lcd_hd44780_common</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#cf9d78d4a1d5539bb949f7f8a9f041db">var bit   lcds_enable    at lcd_shadow:2</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e73bc169f51b78b590d6b0db89ea3c8e">var bit   lcds_backlight at lcd_shadow:3</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#4014c1b302c029009631d920845beafc">var bit*4 lcds_nibble    at lcd_shadow:4</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f3569c76df8f53022cefb35d48270eb8">var bit   lcds_rs        at lcd_shadow:0</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e9b01e8a6ba3cdfd01f40d01f46d3ee2">var bit   lcds_rw        at lcd_shadow:1</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e7ca0928eeb80d25271d093b18ab3481">var byte lcd_shadow</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#062b21d0900e2c1bcd3bab8666fb16bb">lcd_backlight(bit in onoff)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#4410092e4a5aa77dfdbe318daf02653d">lcd_init()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#95e858df5c8c5c3fb31abbbfa2b587cf">write_lcd_shadow()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#84df9b5b96bb72c45b9d4586a2162e78">lcd_backlight_variable(byte in value)</a></code></b>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#6894201db0dea63be78ef1e0ee331a81">__lcd_write_nibble( byte in value )</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#22976e287f46fb244c08ba13aed60ed3">__lcd_write( byte in value )</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#08afb6b553518b98d5de22b408045927">_lcd_write_command(byte in value)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#887e1be593e095a6363a48df31fd9dd0">_lcd_write_data(byte in value)</a></code></b>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="cf9d78d4a1d5539bb949f7f8a9f041db" href="#summary">var bit   lcds_enable    at lcd_shadow:2</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e73bc169f51b78b590d6b0db89ea3c8e" href="#summary">var bit   lcds_backlight at lcd_shadow:3</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="4014c1b302c029009631d920845beafc" href="#summary">var bit*4 lcds_nibble    at lcd_shadow:4</a></code></b>
				<p>	<pre>Mapping of pcf8574 to LCD
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f3569c76df8f53022cefb35d48270eb8" href="#summary">var bit   lcds_rs        at lcd_shadow:0</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e9b01e8a6ba3cdfd01f40d01f46d3ee2" href="#summary">var bit   lcds_rw        at lcd_shadow:1</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e7ca0928eeb80d25271d093b18ab3481" href="#summary">var byte lcd_shadow</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="062b21d0900e2c1bcd3bab8666fb16bb" href="#summary">lcd_backlight(bit in onoff)</a></code></b>
				<p>	<pre>
lcd_backlight - turn backlite on/off

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="4410092e4a5aa77dfdbe318daf02653d" href="#summary">lcd_init()</a></code></b>
				<p>	<pre>


</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="95e858df5c8c5c3fb31abbbfa2b587cf" href="#summary">write_lcd_shadow()</a></code></b>
				<p>	<pre>
write_lcd_shadow() - write content of shadow to lcd (actually: pca8574)

note: i2c errors are ignored here, since there the lcd api has no way 
to propagate them to the user.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="84df9b5b96bb72c45b9d4586a2162e78" href="#summary">lcd_backlight_variable(byte in value)</a></code></b>
				<p>	<pre>
lcd_backlight_variable - set backlight level

</pre>
</p>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="6894201db0dea63be78ef1e0ee331a81" href="#summary">__lcd_write_nibble( byte in value )</a></code></b>
				<p>	<pre>
sends low nibble from value to the LCD
can be used for both commands and data
(requires no wait cycli inbetween upper and lower nibble)
(this routine is only used inside this file)

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="22976e287f46fb244c08ba13aed60ed3" href="#summary">__lcd_write( byte in value )</a></code></b>
				<p>	<pre>
sends byte from value to register of the LCD
(this procedure is only used inside this file)

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="08afb6b553518b98d5de22b408045927" href="#summary">_lcd_write_command(byte in value)</a></code></b>
				<p>	<pre>
sends command byte in value to LCD
for slow commands an extra delay should be added

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="887e1be593e095a6363a48df31fd9dd0" href="#summary">_lcd_write_data(byte in value)</a></code></b>
				<p>	<pre>
sends data byte in value to LCD
for slow commands an extra delay should be added

</pre>
</p>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>16f648a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f648a_lcd_hd44780_pcf8574.jal" target="_blank">16f648a_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>16f723</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f723_lcd_hd44780_pcf8574.jal" target="_blank">16f723_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>16f73</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f73_lcd_hd44780_pcf8574.jal" target="_blank">16f73_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_lcd_hd44780_pcf8574.jal" target="_blank">16f877_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_lcd_hd44780_pcf8574.jal" target="_blank">16f877a_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>16f88</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f88_lcd_hd44780_pcf8574.jal" target="_blank">16f88_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f14k50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f14k50_lcd_hd44780_pcf8574.jal" target="_blank">18f14k50_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2450</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2450_lcd_hd44780_pcf8574.jal" target="_blank">18f2450_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2520</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2520_lcd_hd44780_pcf8574.jal" target="_blank">18f2520_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2550_lcd_hd44780_pcf8574.jal" target="_blank">18f2550_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2620_lcd_hd44780_pcf8574.jal" target="_blank">18f2620_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_lcd_hd44780_pcf8574.jal" target="_blank">18f452_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_lcd_hd44780_pcf8574.jal" target="_blank">18f4550_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_lcd_hd44780_pcf8574.jal" target="_blank">18f4620_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_lcd_hd44780_pcf8574.jal" target="_blank">18f67j50_lcd_hd44780_pcf8574.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

