<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>steppermotor - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="steppermotor">
    <h1>steppermotor</h1>
	</a>

    <div>
		<font size="+1"><i>steppermotor library</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Richard Zengerink, Copyright (c) 2009..2010, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4m
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>this library can be used with steppermotor bipolair unipolair
             with or without stepperdriver ic
</pre>

	</p>
	<br/>


	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#8ac95c26680e61955859c35b443fe8ce">var bit stop = false          -- is set during stop ramp and reset after stop
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#06fb4c4572598e53fda293f00ab6559b">var word tmr1register = 0     -- holds actual 16bit value for TMR1L and TMR1H
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#8528320f8035acef4584b78e97eecee7">var word tmr1register_new = 0 -- holds 16bit new calculated value for TMR1L and TMR1H
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#986db83b26521da14313c2717fcbab92">var bit high_prescal = false  -- wil be set when prescaler is 256 and reset at 2
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#43f9c8d8f47a003f3e9f1b605a253d7c">var bit decel_active = true   -- is set during deceleration
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#cd6c8924d6b24b3c5f53196ff8a703b7">var byte steppointer = 0      -- points to position in full_step or half_step array
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3796af89eead1b22855a8d808a3085c6">var word decel_ramp = 0       -- holds deceleration ramp in 1/100rpm per 1/100Sec
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b1036943a028ab5f49c7df0036e4e7b6">var word set_vel = 0          -- holds desired speed in 1/100rpm
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#a765ef119d529f7983f6fa0ef305284e">var word actual_vel = 0       -- holds now speed in 1/100rpm
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e91b88f803db20eb6ab1b857f9360af6">var bit accel_active = true   -- is set during acceleration
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#87d355a656783ee667bff9ff3f24df48">var dword calculate = 0       -- use for calculation of register with 2 decimals
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f8527d8103bd1d91076086a877298a04">var word accel_ramp = 0       -- holds acceleration ramp in 1/100rpm per 1/100Sec
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#debf7a048a2ba204ab6446b62541ceba">var bit run = false           -- is set during run and reset after stop
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#7cac7e0c5d36ac5cffba80455a2752e1">var bit full_step = true      -- if true than full step not true then half step
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d32bb5741cdf2bdc0d275646f8d05761">var sdword distance = 100     -- holds distance in pulses
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0e6f9b33ff0f321b358aeb3c3e234b77">var bit ramp_speedset = false -- set if new speed is because of ramping
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c97d1c0d686e2fd50361185bff81e913">var bit cw = true             -- true is clockwise, false = counter clockwise
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#09a86114858c5d719c377816e167b4e3">var dword pulses_sec = 0      -- holds calculation of number of pulses per second
</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#00457eaf5ab471a39d490b71c434868c">accel(word in sec, word in velocity) is  -- input</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#81e4cf1e2c0443fce6ac8d8d2ce4f820">stop_stepper()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#44bef3ca3bc1ee6266c2ac214695fd56">coil_stepper(bit in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0e7967360822471823cd3c7a3c0dee3e">timer1()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#fafbfc257a4de162e149e6e1a9d2e5a0">timer0()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#15adca2672411a9e5101808e221d3abf">run_stepper(word in data) is  -- data in</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5aa7cfcc54bbd5f8e635d5cde3a389db">decel(word in sec, word in velocity) is   -- data in</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b07ed84b6891ee0a7742c33826ddd18e">hold_stepper()</a></code></b>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#ab92e0a58b3f384581604ea9459c8e56">_timer0_01s_off() </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b49ec2e5993c10098549e7f2b2ba1d5b">_timer0_01s_on() </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#befcbf4ab03fe99ee1045f63362ab3b3">_velocity(word in data)</a></code></b>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="8ac95c26680e61955859c35b443fe8ce" href="#summary">var bit stop = false          -- is set during stop ramp and reset after stop
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="06fb4c4572598e53fda293f00ab6559b" href="#summary">var word tmr1register = 0     -- holds actual 16bit value for TMR1L and TMR1H
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="8528320f8035acef4584b78e97eecee7" href="#summary">var word tmr1register_new = 0 -- holds 16bit new calculated value for TMR1L and TMR1H
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="986db83b26521da14313c2717fcbab92" href="#summary">var bit high_prescal = false  -- wil be set when prescaler is 256 and reset at 2
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="43f9c8d8f47a003f3e9f1b605a253d7c" href="#summary">var bit decel_active = true   -- is set during deceleration
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="cd6c8924d6b24b3c5f53196ff8a703b7" href="#summary">var byte steppointer = 0      -- points to position in full_step or half_step array
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3796af89eead1b22855a8d808a3085c6" href="#summary">var word decel_ramp = 0       -- holds deceleration ramp in 1/100rpm per 1/100Sec
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b1036943a028ab5f49c7df0036e4e7b6" href="#summary">var word set_vel = 0          -- holds desired speed in 1/100rpm
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="a765ef119d529f7983f6fa0ef305284e" href="#summary">var word actual_vel = 0       -- holds now speed in 1/100rpm
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e91b88f803db20eb6ab1b857f9360af6" href="#summary">var bit accel_active = true   -- is set during acceleration
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="87d355a656783ee667bff9ff3f24df48" href="#summary">var dword calculate = 0       -- use for calculation of register with 2 decimals
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f8527d8103bd1d91076086a877298a04" href="#summary">var word accel_ramp = 0       -- holds acceleration ramp in 1/100rpm per 1/100Sec
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="debf7a048a2ba204ab6446b62541ceba" href="#summary">var bit run = false           -- is set during run and reset after stop
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="7cac7e0c5d36ac5cffba80455a2752e1" href="#summary">var bit full_step = true      -- if true than full step not true then half step
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d32bb5741cdf2bdc0d275646f8d05761" href="#summary">var sdword distance = 100     -- holds distance in pulses
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0e6f9b33ff0f321b358aeb3c3e234b77" href="#summary">var bit ramp_speedset = false -- set if new speed is because of ramping
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c97d1c0d686e2fd50361185bff81e913" href="#summary">var bit cw = true             -- true is clockwise, false = counter clockwise
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="09a86114858c5d719c377816e167b4e3" href="#summary">var dword pulses_sec = 0      -- holds calculation of number of pulses per second
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="00457eaf5ab471a39d490b71c434868c" href="#summary">accel(word in sec, word in velocity) is  -- input</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="81e4cf1e2c0443fce6ac8d8d2ce4f820" href="#summary">stop_stepper()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="44bef3ca3bc1ee6266c2ac214695fd56" href="#summary">coil_stepper(bit in data)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0e7967360822471823cd3c7a3c0dee3e" href="#summary">timer1()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="fafbfc257a4de162e149e6e1a9d2e5a0" href="#summary">timer0()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="15adca2672411a9e5101808e221d3abf" href="#summary">run_stepper(word in data) is  -- data in</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5aa7cfcc54bbd5f8e635d5cde3a389db" href="#summary">decel(word in sec, word in velocity) is   -- data in</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b07ed84b6891ee0a7742c33826ddd18e" href="#summary">hold_stepper()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="ab92e0a58b3f384581604ea9459c8e56" href="#summary">_timer0_01s_off() </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b49ec2e5993c10098549e7f2b2ba1d5b" href="#summary">_timer0_01s_on() </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="befcbf4ab03fe99ee1045f63362ab3b3" href="#summary">_velocity(word in data)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
		<i>No sample found</i>

			<br/>

            </div>
        </div>


	</body>
</html>

