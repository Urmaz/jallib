<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>i2c_reset_bus - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="i2c_reset_bus">
    <h1>i2c_reset_bus</h1>
	</a>

    <div>
		<font size="+1"><i>i2c_reset_bus</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Wouter van Ooijen, Copyright &copy; 1998, 1999 Wouter van Ooijen
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Joep Suijs, William Welch
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4g
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>reset / clear the i2c bus, bit-bang approach





 Define i2c pins like:
alias i2c_scl            is pin_c3
alias i2c_scl_direction  is pin_c3_direction
alias i2c_sda            is pin_c4
alias i2c_sda_direction  is pin_c4_direction



const word _i2c_bus_speed = 1 ; * 100kHz
</pre>

	</p>
	<br/>


	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="delay.html">delay</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#0895a2932581bee8a00403be35f0bdb3">i2c_reset_bus()</a></code></b>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#d14b93ccccdd886c8089a29f72e5c3f7">_i2c_stop()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3d77fd4a4ead9dc04c9dd7ae191c87ab">_i2c_wait()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f7490f34fdd10f12e99ec59becec834c">_i2c_start()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#68485e912768c733908cfc989955ef31">_i2c_bit_out(bit in x)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d22b44d79c003b85e42b2629ad219521">_i2c_bit_in(bit out x)</a></code></b>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="0895a2932581bee8a00403be35f0bdb3" href="#summary">i2c_reset_bus()</a></code></b>
				<p>	<pre>
i2c_reset - initialize the i2c bus

The output latch values are always low,
the lines are switched open-collector fashion by 
manipulating the direction registers.

</pre>
</p>
		</li>
	</ul>

	<i><small>Private</small></i>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="d14b93ccccdd886c8089a29f72e5c3f7" href="#summary">_i2c_stop()</a></code></b>
				<p>	<pre>
_i2c_stop - output a stop condition


</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3d77fd4a4ead9dc04c9dd7ae191c87ab" href="#summary">_i2c_wait()</a></code></b>
				<p>	<pre>
_i2c_wait - wait for a change to settle (for internal use only)

The delay is determined by i2c_bus_speed and is 1/4 of the cycle time.
Given the delay resolution of 1 us and all actions required by 
i2c_software routines, the actual bus speed will be lower then the
configured maximum.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f7490f34fdd10f12e99ec59becec834c" href="#summary">_i2c_start()</a></code></b>
				<p>	<pre>
_i2c_start - output a start condition


</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="68485e912768c733908cfc989955ef31" href="#summary">_i2c_bit_out(bit in x)</a></code></b>
				<p>	<pre>
_i2c_bit_out- output a single bit (for internal use only)


</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d22b44d79c003b85e42b2629ad219521" href="#summary">_i2c_bit_in(bit out x)</a></code></b>
				<p>	<pre>
_i2c_bit_in- input a single bit (for internal use only)


</pre>
</p>
		</li>
	</ul>

	<br/>

		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f67k22</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67k22_co2_i2c.jal" target="_blank">18f67k22_co2_i2c.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

