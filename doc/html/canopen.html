<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>canopen - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="canopen">
    <h1>canopen</h1>
	</a>

    <div>
		<font size="+1"><i>CANopen library</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			William Welch Copyright &copy; 2009, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>

 a small CAN library compatible with CANopen
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>Cia DS 301 version 4.02
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#df73a9277f29e61308b92f540e7d2ea7">co_send(dword in cob_id, byte in data[8], byte in len)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ead06762555d0b3f426f8e439864075e">co_decode_cob_id(dword in cob_id, byte out func, byte out node_id)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#1ab0e4017dcb01928a07bddef0e60e6d">co_receive(dword out cob_id, byte out data[8], byte out len)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#43b336db7473a08a30adfbd255c80ced">co_encode_cob_id(byte in func, byte in node_id, dword out cob_id)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="df73a9277f29e61308b92f540e7d2ea7" href="#summary">co_send(dword in cob_id, byte in data[8], byte in len)</a></code></b>
				<p>	<pre>send standard 11-bit CANopen message
FIXME: we are only using one of the TX buffers (3 are available)
FIXME: handle timeout
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ead06762555d0b3f426f8e439864075e" href="#summary">co_decode_cob_id(dword in cob_id, byte out func, byte out node_id)</a></code></b>
				<p>	<pre>extract function code and node_id from 11-bit cob_id
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="1ab0e4017dcb01928a07bddef0e60e6d" href="#summary">co_receive(dword out cob_id, byte out data[8], byte out len)</a></code></b>
				<p>	<pre>receive standard 11-bit CANopen message
FIXME: we are assuming rollover is set up from RXB0 to RXB1
FIXME: handle timeout
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="43b336db7473a08a30adfbd255c80ced" href="#summary">co_encode_cob_id(byte in func, byte in node_id, dword out cob_id)</a></code></b>
				<p>	<pre>format the COB-ID, which is a 'standard' 11-bit CAN identifier. 
the function code is upper 4 bits, the node_id is lower 7 bits.
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>16f819</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f819_canopen_mcp2515_txhb.jal" target="_blank">16f819_canopen_mcp2515_txhb.jal</a></td>
			</tr>
			<tr>
			<td><b>18f2585</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f2585_can_monitor.jal" target="_blank">18f2585_can_monitor.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

