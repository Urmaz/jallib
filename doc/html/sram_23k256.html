<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>sram_23k256 - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="sram_23k256">
    <h1>sram_23k256</h1>
	</a>

    <div>
		<font size="+1"><i>23K256 sram library</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Matthew Schinkel - borntechi.com, copyright (c) 2009, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			>=2.4l
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>This is library for 23K256 SPI SRAM, Microchip's 20mhz 256kbit SRAM memory
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>http://ww1.microchip.com/downloads/en/DeviceDoc/22100D.pdf
</pre>

	</p>
	<br/>

	<b>Notes</b>
	<p>
		<pre>Address from 0 to 32,767
This is a 2.7v to 3.6v memory.
This lib should also work with 23k640 (64kbit sram), but hasn't been tested, please let me know.
Also should work with 23A640 & 23A256 (1.5v to 1.95v versions), also not tested
SPI Mode is 00 for 23k256
</pre>

	</p>
	<br/>
	
	<b>Dependencies</b>
	<p>
		<i>No dependency found</i>
	</p>
	<br/>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#e8b15788132955918c28057660becad7">const byte SRAM_23K256_WRITE_COMMAND = 0b_0000_0010   -- Write data to memory array beginning at selected address
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0c5a8a4f5c58bd4798fe103cf556e324">const byte SRAM_23K256_READ_STATUS  = 0b_0000_0101    -- Read STATUS register
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#8a680b95b22dad9082b1c9afbfcd6b57">const byte SRAM_23K256_READ_COMMAND  = 0b_0000_0011   -- Read data from memory array beginning at selected address
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#2e4178f8ab9e68870097101be2c4d2e8">const byte SRAM_23K256_WRITE_SETTINGS  = 0b_0000_0001 -- Write STATUS register
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5ca8181dc5d10ff7ac9f3a84deab8a29">const byte SRAM_23K256_SEQUENTIAL_MODE = 0b01         -- send read command then read many bytes
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3166f9d1dc62037b39d19e00d2bc50da">const byte SRAM_23K256_BYTE_MODE = 0b00               -- read only one byte
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#6d046948bbade1c66f2350c624a3ab48">const byte SRAM_23K256_HOLD_ENABLE  = 0               -- enable the hold pin   (conect pin to microcontroller)
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5850b7e4498f1c4f0cc299169a6720d2">const byte SRAM_23K256_PAGE_MODE = 0b10               -- send read command then read 1 32Byte page
</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#1843997089307ca041655f02754eeb02">const byte SRAM_23K256_HOLD_DISABLE = 1               -- disable the hold pin. (connect put pin direct to 3.3v)
</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#72048b379686c8c9dd9575743dd04ba4">sram_23k256_start_write(word in address)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#9d97e5b0f0e5f858a2491a5e11caa61a">sram_23k256_init(byte in sram_23k256_mode, byte in sram_23k256_hold_disable)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#770add14e3ce94e5a8be754854c0317f">sram_23k256_byte'put(word in address, byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#27db9e8c7dcdf93158a9524b57cd48de">sram_23k256_do_read(byte out data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b2424cc3ba4e9f516f0eec9b359dc559">sram_23k256_dword'put(word in address, dword in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3bb0699ee32fac0368c148e239bc467e">sram_23k256_read_settings(byte out mode, byte out hold_is_disabled)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#3f4090a709a84df3bc6fa456af5fc6ad">sram_23k256_do_write(byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#de04ee4d659c99c20c8818bc1568736b">sram_23k256_word'put(word in address, word in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d7464ccca6995e1d424774ad24edd3da">sram_23k256_write(word in address, byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#a6594a9c70b40869af0da7fa02e9a813">sram_23k256_read(word in address, byte out data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#bbc2d4455667b0132debfb5eafb03696">sram_23k256_stop_read()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#55ccbe34afb0a7e34fcc80920f2f9392">sram_23k256_start_read(word in address)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#4e16e17352514cbc07eee3606b72fa5a">sram_23k256_stop_write()</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#2aa76660f73a05b79e6e3efd0be41217">sram_23k256_dword'get(word in address) return dword</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d910eab553a9c77f34a9770ab5742ca4">sram_23k256_word'get(word in address) return word</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#d7f2069c90d37c5408001ac3565b3b2d">sram_23k256_byte'get(word in address) return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="e8b15788132955918c28057660becad7" href="#summary">const byte SRAM_23K256_WRITE_COMMAND = 0b_0000_0010   -- Write data to memory array beginning at selected address
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0c5a8a4f5c58bd4798fe103cf556e324" href="#summary">const byte SRAM_23K256_READ_STATUS  = 0b_0000_0101    -- Read STATUS register
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="8a680b95b22dad9082b1c9afbfcd6b57" href="#summary">const byte SRAM_23K256_READ_COMMAND  = 0b_0000_0011   -- Read data from memory array beginning at selected address
</a></code></b>
				<p>	<pre>constants for internal usage
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="2e4178f8ab9e68870097101be2c4d2e8" href="#summary">const byte SRAM_23K256_WRITE_SETTINGS  = 0b_0000_0001 -- Write STATUS register
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5ca8181dc5d10ff7ac9f3a84deab8a29" href="#summary">const byte SRAM_23K256_SEQUENTIAL_MODE = 0b01         -- send read command then read many bytes
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3166f9d1dc62037b39d19e00d2bc50da" href="#summary">const byte SRAM_23K256_BYTE_MODE = 0b00               -- read only one byte
</a></code></b>
				<p>	<pre>constants for use with init procedure input data
modes in witch to read and write data
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="6d046948bbade1c66f2350c624a3ab48" href="#summary">const byte SRAM_23K256_HOLD_ENABLE  = 0               -- enable the hold pin   (conect pin to microcontroller)
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5850b7e4498f1c4f0cc299169a6720d2" href="#summary">const byte SRAM_23K256_PAGE_MODE = 0b10               -- send read command then read 1 32Byte page
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="1843997089307ca041655f02754eeb02" href="#summary">const byte SRAM_23K256_HOLD_DISABLE = 1               -- disable the hold pin. (connect put pin direct to 3.3v)
</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="72048b379686c8c9dd9575743dd04ba4" href="#summary">sram_23k256_start_write(word in address)</a></code></b>
				<p>	<pre>
get 23K256 ready for writing and select a address to start from (fast writes)
do not interupt read process by switching to another spi device

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="9d97e5b0f0e5f858a2491a5e11caa61a" href="#summary">sram_23k256_init(byte in sram_23k256_mode, byte in sram_23k256_hold_disable)</a></code></b>
				<p>	<pre>
initialize startup settings & spi mode 00

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="770add14e3ce94e5a8be754854c0317f" href="#summary">sram_23k256_byte'put(word in address, byte in data)</a></code></b>
				<p>	<pre>
Write to 23k256 as a byte array

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="27db9e8c7dcdf93158a9524b57cd48de" href="#summary">sram_23k256_do_read(byte out data)</a></code></b>
				<p>	<pre>
read byte from the 23K256
  
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b2424cc3ba4e9f516f0eec9b359dc559" href="#summary">sram_23k256_dword'put(word in address, dword in data)</a></code></b>
				<p>	<pre>
Write 23k256 as a large 8K dword array

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3bb0699ee32fac0368c148e239bc467e" href="#summary">sram_23k256_read_settings(byte out mode, byte out hold_is_disabled)</a></code></b>
				<p>	<pre>
Reads the status/settings register to get the current 23k256 mode
that was previously set in the init procedure.
SRAM_23K256_BYTE_MODE, SRAM_23K256_SEQUENTIAL_MODE, SRAM_23K256_PAGE_MODE

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="3f4090a709a84df3bc6fa456af5fc6ad" href="#summary">sram_23k256_do_write(byte in data)</a></code></b>
				<p>	<pre>
write byte to the 23K256
you may use spi_master_hw directly instead.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="de04ee4d659c99c20c8818bc1568736b" href="#summary">sram_23k256_word'put(word in address, word in data)</a></code></b>
				<p>	<pre>
Write 23k256 as a large 16K word array

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d7464ccca6995e1d424774ad24edd3da" href="#summary">sram_23k256_write(word in address, byte in data)</a></code></b>
				<p>	<pre>
Write 1 byte to selected address

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="a6594a9c70b40869af0da7fa02e9a813" href="#summary">sram_23k256_read(word in address, byte out data)</a></code></b>
				<p>	<pre>
Read 1 byte to selected address

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="bbc2d4455667b0132debfb5eafb03696" href="#summary">sram_23k256_stop_read()</a></code></b>
				<p>	<pre>
tell 23K256 you are finished reading
 
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="55ccbe34afb0a7e34fcc80920f2f9392" href="#summary">sram_23k256_start_read(word in address)</a></code></b>
				<p>	<pre>
get 23K256 ready for reading and select a address to start from (fast reads)
do not interupt read process by switching to another spi device

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="4e16e17352514cbc07eee3606b72fa5a" href="#summary">sram_23k256_stop_write()</a></code></b>
				<p>	<pre>
tell 23K256 you are finished writing
  
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="2aa76660f73a05b79e6e3efd0be41217" href="#summary">sram_23k256_dword'get(word in address) return dword</a></code></b>
				<p>	<pre>
Read from 23k256 as a large 8K dword array

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d910eab553a9c77f34a9770ab5742ca4" href="#summary">sram_23k256_word'get(word in address) return word</a></code></b>
				<p>	<pre>
Read from 23k256 as a large 16K word array
 
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="d7f2069c90d37c5408001ac3565b3b2d" href="#summary">sram_23k256_byte'get(word in address) return byte</a></code></b>
				<p>	<pre>
Read from 23k256 as a byte array

</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_23k256.jal" target="_blank">16f877a_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_fat32_pata_hard_disk.jal" target="_blank">18f452_fat32_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_mp3_decoder_sta015_sd_card.jal" target="_blank">18f452_mp3_decoder_sta015_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_23k256.jal" target="_blank">18f452_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_fat32_sd_card.jal" target="_blank">18f452_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_mp3_decoder_sta015_pata_hard_disk.jal" target="_blank">18f452_mp3_decoder_sta015_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_vs1053b_pata_hard_disk.jal" target="_blank">18f4620_mp3_decoder_vs1053b_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_sta015_pata_hard_disk.jal" target="_blank">18f4620_mp3_decoder_sta015_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_vs1053b_sd_card.jal" target="_blank">18f4620_mp3_decoder_vs1053b_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_sta015_sd_card.jal" target="_blank">18f4620_mp3_decoder_sta015_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_sd_card.jal" target="_blank">18f4620_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_pata_hard_disk.jal" target="_blank">18f4620_fat32_pata_hard_disk.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

