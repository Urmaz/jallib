<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
    		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" >
		<title>dac_mcp4922 - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="dac_mcp4922">
    <h1>dac_mcp4922</h1>
	</a>

    <div>
		<font size="+1"><i>MCP4922.jal</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Peter Lankreijer
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4o
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>This library controls a MCP4922 via the SPI protocol.
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>delay.jal
             spi_master_sw.jal or spi_master_hw.jal
             http://ww1.microchip.com/downloads/en/DeviceDoc/22250A.pdf
</pre>

	</p>
	<br/>

	<b>Notes</b>
	<p>
		<pre>The following should be defined in the main program:
             setup SPI for software SPI or none for hardware SPI
             include spi_master_sw
             define directions
             spi_master_sw_init(SPI_MODE_11)
             alias spi_master is spi_master_sw
             alias spi_master_exchange is spi_master_sw_exchange
</pre>

	</p>
	<br/>
	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="delay.html">delay</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#082a81bb3aa2bb772852b685fa07e8c6">var bit mcp4922_shdn at mcp4922_write[1] : 4            </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#a5dac5d8f50550d4f5a99feef1809848">var bit _mcp4922_buf</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ad7bca53a638eaba44e214178c306b57">var bit _mcp4922_ga</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#8b2fc94b56bd8aa4e04a9c136a76ea9f">var bit _mcp4922_shdn</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#2c9a015cd1a8dc504df9e6a09db9f686">var bit mcp4922_ga at mcp4922_write[1] : 5              </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ee7595b976e7d025b0b1b150de9b7a0e">var byte mcp4922_write[2]</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#346638414425a95f4e03a64f96bc001e">var bit mcp4922_buf at mcp4922_write[1] : 6             </a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#6d65a6d4ca16f3ff63af98bad0ee493d">var bit mcp4922_ab at mcp4922_write[1] : 7              </a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#fe0b558b99653629d57db9b8c6708d54">mcp4922_dac_ab(word in A, word in B)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e740ce253d08225d6d6ceb80b7beb398">mcp4922_dac(bit in register, word in X)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#63222b9e21d1ebcc800337fcc8570bfa">mcp4922_init(bit in buffer, bit in gain)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e6b2e72b0458de0708f304bf9df6d706">mcp4922_split_word(word in word_in, byte out high_byte, byte out low_byte)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#2e0876f1ea06bc41aa58523d3491b37e">mcp4922_dac_a(word in A)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#df29f2e468217e32fad264628e0d591c">mcp4922_dac_b(word in B)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="082a81bb3aa2bb772852b685fa07e8c6" href="#summary">var bit mcp4922_shdn at mcp4922_write[1] : 4            </a></code></b>
				<p>	<pre>Output shutdown control bit</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="a5dac5d8f50550d4f5a99feef1809848" href="#summary">var bit _mcp4922_buf</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ad7bca53a638eaba44e214178c306b57" href="#summary">var bit _mcp4922_ga</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="8b2fc94b56bd8aa4e04a9c136a76ea9f" href="#summary">var bit _mcp4922_shdn</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="2c9a015cd1a8dc504df9e6a09db9f686" href="#summary">var bit mcp4922_ga at mcp4922_write[1] : 5              </a></code></b>
				<p>	<pre>Output gain selection bit</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ee7595b976e7d025b0b1b150de9b7a0e" href="#summary">var byte mcp4922_write[2]</a></code></b>
				<p>	<pre>Define variables
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="346638414425a95f4e03a64f96bc001e" href="#summary">var bit mcp4922_buf at mcp4922_write[1] : 6             </a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="6d65a6d4ca16f3ff63af98bad0ee493d" href="#summary">var bit mcp4922_ab at mcp4922_write[1] : 7              </a></code></b>
				<p>	<pre>select DAC_A OR DAC_B</pre>
</p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="fe0b558b99653629d57db9b8c6708d54" href="#summary">mcp4922_dac_ab(word in A, word in B)</a></code></b>
				<p>	<pre>
Function to write to the DAC and update both registers at the same time

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e740ce253d08225d6d6ceb80b7beb398" href="#summary">mcp4922_dac(bit in register, word in X)</a></code></b>
				<p>	<pre>
Internal procedure to wite to the register

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="63222b9e21d1ebcc800337fcc8570bfa" href="#summary">mcp4922_init(bit in buffer, bit in gain)</a></code></b>
				<p>	<pre>
Initialise the MCP4922

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e6b2e72b0458de0708f304bf9df6d706" href="#summary">mcp4922_split_word(word in word_in, byte out high_byte, byte out low_byte)</a></code></b>
				<p>	<pre>
Internal used function to split a word into two bytes

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="2e0876f1ea06bc41aa58523d3491b37e" href="#summary">mcp4922_dac_a(word in A)</a></code></b>
				<p>	<pre>
Function to write to the DAC A and latch

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="df29f2e468217e32fad264628e0d591c" href="#summary">mcp4922_dac_b(word in B)</a></code></b>
				<p>	<pre>
Function to write to the DAC B and latch

</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f27j53</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f27j53_mcp4922.jal" target="_blank">18f27j53_mcp4922.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

