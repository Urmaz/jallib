<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>spi_master_hw - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="spi_master_hw">
    <h1>spi_master_hw</h1>
	</a>

    <div>
		<font size="+1"><i>SPI Master</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			William Welch Copyright &copy; 2009, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Sebastien Lelong
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4l
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>SPI Master hardware control.
Routines for sending and receiving through the SPI in master mode
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>good overview of SPI at http://en.wikipedia.org/wiki/Serial_Peripheral_Interface_Bus
also at: http://elm-chan.org/docs/spi_e.html
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="spi_common.html">spi_common</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#81548df066ee5d6e8dd718be0c081e22">spi_master_hw_set_speed(byte in spi_rate)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c60de5ca4178ddb9da3867fe49498e34">spi_master_hw_set_mode_10()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#8470e42f057b7751424ed6c5f2b8cddc">spi_master_hw_set_mode_01()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#074c8608aaedc3084d9e7fa85d3be0f7">spi_master_hw_set_mode_11()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#5248bc528b5572282a0d7223f6fbaff8">spi_init(byte in spi_mode, byte in spi_rate)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#499831973d848eb47c580bb99f80b222">spi_master_hw'put(byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#bbb0509983241c31499bbcf33453b36b">spi_master_hw_set_mode_00()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#c9ed87b4bc33a622693ba9269a4a171c">spi_master_hw_set_mode(byte in spi_mode)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#6c98d62c27a3ed66b39d6ee87ad50d71">spi_master_hw_exchange(byte in m_data) return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#049214a809fd9306870181b8ae73cb7e">spi_master_hw'get() return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="81548df066ee5d6e8dd718be0c081e22" href="#summary">spi_master_hw_set_speed(byte in spi_rate)</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c60de5ca4178ddb9da3867fe49498e34" href="#summary">spi_master_hw_set_mode_10()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="8470e42f057b7751424ed6c5f2b8cddc" href="#summary">spi_master_hw_set_mode_01()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="074c8608aaedc3084d9e7fa85d3be0f7" href="#summary">spi_master_hw_set_mode_11()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="5248bc528b5572282a0d7223f6fbaff8" href="#summary">spi_init(byte in spi_mode, byte in spi_rate)</a></code></b>
				<p>	<pre>Initialize the SPI registers.
Note: check your datasheet -- TRIS settings, any SPI errata?
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="499831973d848eb47c580bb99f80b222" href="#summary">spi_master_hw'put(byte in data)</a></code></b>
				<p>	<pre>half-duplex convenience function. send data to slave, discard reply
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="bbb0509983241c31499bbcf33453b36b" href="#summary">spi_master_hw_set_mode_00()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="c9ed87b4bc33a622693ba9269a4a171c" href="#summary">spi_master_hw_set_mode(byte in spi_mode)</a></code></b>
				<p>	<pre>Specify SPI mode (see spi_common for predefined constant you can use
as parameters)
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="6c98d62c27a3ed66b39d6ee87ad50d71" href="#summary">spi_master_hw_exchange(byte in m_data) return byte</a></code></b>
				<p>	<pre>SPI is full-duplex, so we exchange master and slave data byte
</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="049214a809fd9306870181b8ae73cb7e" href="#summary">spi_master_hw'get() return byte</a></code></b>
				<p>	<pre>half-duplex convenience function. send 0xFF, get slave data
</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>16f819</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f819_mcp2515_can_monitor.jal" target="_blank">16f819_mcp2515_can_monitor.jal</a></td>
			</tr>
			<tr>
			<td><b>16f819</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f819_canopen_mcp2515_txhb.jal" target="_blank">16f819_canopen_mcp2515_txhb.jal</a></td>
			</tr>
			<tr>
			<td><b>16f819</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f819_ee25aa02e48_lcd.jal" target="_blank">16f819_ee25aa02e48_lcd.jal</a></td>
			</tr>
			<tr>
			<td><b>16f819</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f819_mcp2515_canid4_monitor.jal" target="_blank">16f819_mcp2515_canid4_monitor.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_fat32_small_pata_hard_disk.jal" target="_blank">16f877_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_sd_card.jal" target="_blank">16f877_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_fat32_small_sd_card.jal" target="_blank">16f877_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877_digital_potentiometer_mcp4131.jal" target="_blank">16f877_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_fat32_small_pata_hard_disk.jal" target="_blank">16f877a_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_digital_potentiometer_mcp4131.jal" target="_blank">16f877a_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_23k256.jal" target="_blank">16f877a_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_temperature_tc77.jal" target="_blank">16f877a_temperature_tc77.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_sd_card.jal" target="_blank">16f877a_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>16f877a</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/16f877a_fat32_small_sd_card.jal" target="_blank">16f877a_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_23k256.jal" target="_blank">18f452_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_fat32_small_sd_card.jal" target="_blank">18f452_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_sd_card.jal" target="_blank">18f452_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_fat32_small_pata_hard_disk.jal" target="_blank">18f452_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f452</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f452_digital_potentiometer_mcp4131.jal" target="_blank">18f452_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_fat32_sd_card.jal" target="_blank">18f4525_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_digital_potentiometer_mcp4131.jal" target="_blank">18f4525_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_sd_card.jal" target="_blank">18f4525_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_mp3_decoder_vs1053b_sd_card.jal" target="_blank">18f4525_mp3_decoder_vs1053b_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_temperature_tc77.jal" target="_blank">18f4525_temperature_tc77.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_fat32_pata_hard_disk.jal" target="_blank">18f4525_fat32_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_mp3_decoder_vs1053b_pata_hard_disk.jal" target="_blank">18f4525_mp3_decoder_vs1053b_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_fat32_small_pata_hard_disk.jal" target="_blank">18f4525_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4525</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4525_fat32_small_sd_card.jal" target="_blank">18f4525_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_digital_potentiometer_mcp4131.jal" target="_blank">18f4550_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_fat32_small_sd_card.jal" target="_blank">18f4550_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_fat32_sd_card.jal" target="_blank">18f4550_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_23k256.jal" target="_blank">18f4550_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_sd_card.jal" target="_blank">18f4550_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4550</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4550_temperature_tc77.jal" target="_blank">18f4550_temperature_tc77.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_webserver_enc28j60.jal" target="_blank">18f4620_network_webserver_enc28j60.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_vs1053b_sd_card.jal" target="_blank">18f4620_mp3_decoder_vs1053b_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_client.jal" target="_blank">18f4620_network_tcp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_sd_card.jal" target="_blank">18f4620_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_temperature_tc77.jal" target="_blank">18f4620_temperature_tc77.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_ping.jal" target="_blank">18f4620_network_ping.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_pata_hard_disk.jal" target="_blank">18f4620_fat32_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_glcd_touch_stm032qvt_003.jal" target="_blank">18f4620_glcd_touch_stm032qvt_003.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_small_sd_card.jal" target="_blank">18f4620_fat32_small_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_tcp_server.jal" target="_blank">18f4620_network_tcp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_server.jal" target="_blank">18f4620_network_udp_server.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_all_in_one.jal" target="_blank">18f4620_network_all_in_one.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_network_udp_client.jal" target="_blank">18f4620_network_udp_client.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_sd_card.jal" target="_blank">18f4620_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_mp3_decoder_vs1053b_pata_hard_disk.jal" target="_blank">18f4620_mp3_decoder_vs1053b_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_digital_potentiometer_mcp4131.jal" target="_blank">18f4620_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_fat32_small_pata_hard_disk.jal" target="_blank">18f4620_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f46k22</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f46k22_temperature_tc77.jal" target="_blank">18f46k22_temperature_tc77.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_fat32_pata_hard_disk.jal" target="_blank">18f67j50_fat32_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_sd_card.jal" target="_blank">18f67j50_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_mp3_decoder_vs1053b_sd_card.jal" target="_blank">18f67j50_mp3_decoder_vs1053b_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_fat32_small_pata_hard_disk.jal" target="_blank">18f67j50_fat32_small_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_digital_potentiometer_mcp4131.jal" target="_blank">18f67j50_digital_potentiometer_mcp4131.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_mp3_decoder_vs1053b_pata_hard_disk.jal" target="_blank">18f67j50_mp3_decoder_vs1053b_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_23k256.jal" target="_blank">18f67j50_23k256.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_usb_msd_pata_hard_disk.jal" target="_blank">18f67j50_usb_msd_pata_hard_disk.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_usb_msd_sd_card.jal" target="_blank">18f67j50_usb_msd_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_fat32_sd_card.jal" target="_blank">18f67j50_fat32_sd_card.jal</a></td>
			</tr>
			<tr>
			<td><b>18f67j50</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f67j50_fat32_small_sd_card.jal" target="_blank">18f67j50_fat32_small_sd_card.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

