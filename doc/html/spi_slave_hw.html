<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
    <head>
		<title>spi_slave_hw - jallib API doc</title>
    </head>
    <body>
		
		        <div id="page">
        
            <div id="pagecontent">

			    
	<a href="#toc" name="spi_slave_hw">
    <h1>spi_slave_hw</h1>
	</a>

    <div>
		<font size="+1"><i>SPI Slave Hardware</i></font>
	</div>

	<br/>

    <div class="narrow">
        
	<table>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Author</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			Matthew Schinkel - borntechi.com, copyright (c) 2009, all rights reserved.
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Adapted-by</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			
		</td>
	</tr>
	<tr>
		<td style="border: 1px solid #aaa; padding: 5px;">
			<b>Compiler</b>
		</td>
		<td style="border: 1px solid #aaa; padding: 5px;">
			2.4o
		</td>
	</tr>
	</table>

	<br/>
	
	<b>Description</b>
	<p>
		<pre>SPI Hardware Slave library for exchanging data through SPI bus.
</pre>

	</p>
	<br/>

	<b>Sources</b>
	<p>
		<pre>http://www.justanotherlanguage.org/content/jallib/tutorials/tutorial_spi_introduction
Jallib spi_master_hw library - Written by William Welch
http://ww1.microchip.com/downloads/en/devicedoc/spi.pdf
</pre>

	</p>
	<br/>

	
	<b>Dependencies</b>
	<p>
		<ul>
			<li><a href="spi_common.html">spi_common</a></li>
		</ul>


			<br/>
				<h2><a name="summary">Summary</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#c02d33f9c8390803682f982b1242cba5">const byte _SPI_SLAVE_HW_FULL = 1</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#ea96b7b4a199df030bf99cb991b6ebbd">var byte spi_slave_hw_rx_byte_count = 0</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#f018582a2f13f8562cf7ddfbfa1fbb65">var byte _spi_slave_hw_buffer_tx_status = _SPI_SLAVE_HW_EMPTY</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#e45b592322bba8d200a7d827b76401b0">var byte spi_slave_hw_rx_byte_count_old = 0</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#726119e515bd976eca686ea1f0f1f680">const byte _SPI_SLAVE_HW_EMPTY = 0</a></code></b>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#5afaad23a563260e04a625a72049e133">spi_slave_hw'put(byte in data)</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#0a5d7849e9008c8af1b430aefcf5e024">spi_slave_initerrupt()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#50ff77f53f5d3354b9326359d4da6fce">spi_slave_hw_sync()</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#9c954528a5593b76721a07ff46594ee4">spi_slave_init(byte in spi_mode)</a></code></b>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a href="#18ecccbf14e235e03227f455d0bbe413">spi_slave_hw'get() return byte</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#288f91d4fc8914c1cc3cd102f3f04c78">spi_slave_hw_packet_available'get() return bit</a></code></b>
		</li>
		<li>
				<b><code name="code" class="python"><a href="#b819abe2003d81c2ec0a268a5b074698">spi_slave_hw_exchange(byte in data) return byte</a></code></b>
		</li>
	</ul>



			<br/>
				<h2><a name="api">API details</a></h2>

		<h3><a name="Global variables/contants">Global variables/contants</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="c02d33f9c8390803682f982b1242cba5" href="#summary">const byte _SPI_SLAVE_HW_FULL = 1</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="ea96b7b4a199df030bf99cb991b6ebbd" href="#summary">var byte spi_slave_hw_rx_byte_count = 0</a></code></b>
				<p>	<pre>
spi slave initerrupt

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="f018582a2f13f8562cf7ddfbfa1fbb65" href="#summary">var byte _spi_slave_hw_buffer_tx_status = _SPI_SLAVE_HW_EMPTY</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="e45b592322bba8d200a7d827b76401b0" href="#summary">var byte spi_slave_hw_rx_byte_count_old = 0</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="726119e515bd976eca686ea1f0f1f680" href="#summary">const byte _SPI_SLAVE_HW_EMPTY = 0</a></code></b>
				<p>	<pre>tx out buffer state
</pre>
</p>
		</li>
	</ul>


		<h3><a name="Procedures">Procedures</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="5afaad23a563260e04a625a72049e133" href="#summary">spi_slave_hw'put(byte in data)</a></code></b>
				<p>	<pre>
wait to receive data from the spi port
(wait for chip select to go low, and clock pulses to come in from master)

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="0a5d7849e9008c8af1b430aefcf5e024" href="#summary">spi_slave_initerrupt()</a></code></b>
				<p><i>No documentation found</i></p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="50ff77f53f5d3354b9326359d4da6fce" href="#summary">spi_slave_hw_sync()</a></code></b>
				<p>	<pre>
Synchronize SPI. Sets SPI bit counter to 0 to sync received data. You should
use this if you set SPI_SLAVE_HW_SYNCHRONOUS == FALSE, or if you don't use
pin_ss for chip select. On a stable wire, you don't need to use this but it
is recommended that you use it once per packet. On an unstable wire, you
should use this more often. Maybe even after every byte recieved.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="9c954528a5593b76721a07ff46594ee4" href="#summary">spi_slave_init(byte in spi_mode)</a></code></b>
				<p>	<pre>
spi slave init

</pre>
</p>
		</li>
	</ul>


		<h3><a name="Functions">Functions</a></h3>
		<ul>
		<li>
				<b><code name="code" class="python"><a name="18ecccbf14e235e03227f455d0bbe413" href="#summary">spi_slave_hw'get() return byte</a></code></b>
				<p>	<pre>
wait to transmit data to spi port
(wait for chip select to go low, and clock pulses to come in from master)

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="288f91d4fc8914c1cc3cd102f3f04c78" href="#summary">spi_slave_hw_packet_available'get() return bit</a></code></b>
				<p>	<pre>
check if there is a packet available, for interrupts + packets enabled.

</pre>
</p>
		</li>
		<li>
				<b><code name="code" class="python"><a name="b819abe2003d81c2ec0a268a5b074698" href="#summary">spi_slave_hw_exchange(byte in data) return byte</a></code></b>
				<p>	<pre>
wait to exchange data through the spi port
(wait for chip select to go low, and clock pulses to come in from master)

</pre>
</p>
		</li>
	</ul>



			<br/>
				<h2><a name="related_samples">Related samples</a></h2>
	Here are the list of samples which use this library:<br/><br/>
	<table border=1>
			<tr>
			<td><b>18f4620</b></td><td><a href="http://code.google.com/p/jallib/source/browse/trunk/sample/18f4620_spi_slave_hw.jal" target="_blank">18f4620_spi_slave_hw.jal</a></td>
			</tr>
	</table>

			<br/>

            </div>
        </div>


	</body>
</html>

