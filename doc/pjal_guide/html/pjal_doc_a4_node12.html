<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>8 Statements</TITLE>
<META NAME="description" CONTENT="8 Statements">
<META NAME="keywords" CONTENT="pjal_doc_a4">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="pjal_doc_a4.css">

<LINK REL="next" HREF="pjal_doc_a4_node13.html">
<LINK REL="previous" HREF="pjal_doc_a4_node11.html">
<LINK REL="up" HREF="pjal_doc_a4_node4.html">
<LINK REL="next" HREF="pjal_doc_a4_node13.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html414"
  HREF="pjal_doc_a4_node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html410"
  HREF="pjal_doc_a4_node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html404"
  HREF="pjal_doc_a4_node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html412"
  HREF="pjal_doc_a4_node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html415"
  HREF="pjal_doc_a4_node13.html">9 Procedures and functions</A>
<B> Up:</B> <A NAME="tex2html411"
  HREF="pjal_doc_a4_node4.html">1 Language definition</A>
<B> Previous:</B> <A NAME="tex2html405"
  HREF="pjal_doc_a4_node11.html">7 Expressions</A>
 &nbsp; <B>  <A NAME="tex2html413"
  HREF="pjal_doc_a4_node2.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html416"
  HREF="pjal_doc_a4_node12.html#SECTION00481000000000000000">1 Declaration</A>
<LI><A NAME="tex2html417"
  HREF="pjal_doc_a4_node12.html#SECTION00482000000000000000">2 Assignment</A>
<LI><A NAME="tex2html418"
  HREF="pjal_doc_a4_node12.html#SECTION00483000000000000000">3 IF</A>
<UL>
<LI><A NAME="tex2html419"
  HREF="pjal_doc_a4_node12.html#SECTION00483010000000000000">1 Conditional execution</A>
<LI><A NAME="tex2html420"
  HREF="pjal_doc_a4_node12.html#SECTION00483020000000000000">2 Conditional compilation</A>
</UL>
<BR>
<LI><A NAME="tex2html421"
  HREF="pjal_doc_a4_node12.html#SECTION00484000000000000000">4 WHILE</A>
<LI><A NAME="tex2html422"
  HREF="pjal_doc_a4_node12.html#SECTION00485000000000000000">5 FOR</A>
<LI><A NAME="tex2html423"
  HREF="pjal_doc_a4_node12.html#SECTION00486000000000000000">6 FOREVER</A>
<LI><A NAME="tex2html424"
  HREF="pjal_doc_a4_node12.html#SECTION00487000000000000000">7 COUNT</A>
<LI><A NAME="tex2html425"
  HREF="pjal_doc_a4_node12.html#SECTION00488000000000000000">8 _usec_delay</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00480000000000000000">
8 Statements</A>
</H1>

<P>
<A NAME="sub:Statements"></A>A statement is any variable, constant, function,
or procedure definition, assignment, control (IF) or looping (FOR,
FOREVER, WHILE).

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00481000000000000000">
1 Declaration</A>
</H2>

<P>
Declarations are considered statements, so declarations can appear
anywhere in a program where a statement is allowed. 

<P>
<B>Example</B>: <PRE>   a = 5
   -- need a few locals here? no problem!
   var byte x = 1, y = 0
   while x &lt; a loop 
      y = y + x
      x = x + 1
   end loop
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00482000000000000000">
2 Assignment</A>
</H2>

<P>
An assignment statement evaluates the expression and assigns its value
to the variable or formal parameter indicated by the name on the left
of the assignment.

<P>
<B>Example</B>: <PRE>   var byte a
   procedure p( byte out q ) is 
      q = 5 -- assign to the (out) parameter q
      a = 4 -- assign to the global variable a
   end procedure 
   a = 5 -- assign to the (now local) variable a
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00483000000000000000">
3 IF</A>
</H2>

<P>
An <I>IF</I> statement evaluates an expression. If the result is true
the list of statements following the <I>THEN</I> token is executed.

<P>
Before the <I>ELSE</I> token any number of <I>ELSIF</I> tokens can
appear. When the <I>IF</I> condition is false, the first <I>ELSIF</I>
condition is evaluated. If it is true the corresponding statements
are executed, otherwise execution continues with the next <I>ELSIF</I>
part.

<P>
When none of the <I>IF</I> and <I>ELSIF</I> conditions evaluate to
true the statements in the optional <I>ELSE</I> part are executed. 

<P>
The IF statement serves two purposes:

<P>

<BR>
<P>

<H4><A NAME="SECTION00483010000000000000">
1 Conditional execution</A>
</H4>

<P>
<PRE>   IF expr THEN 
      block 
   [ ELSIF expr THEN block ... ] 
   [ ELSE block ] 
   END IF
</PRE>

<P>
<BLOCKQUOTE>
Note: any number of ELSIF conditions may be present.

</BLOCKQUOTE>
<B>Example</B>: <PRE>   IF myvar = 13 THEN
      -- Case of myvar = 13 ... 
   ELSIF myvar = 10 THEN
      -- Case of myvar = 10 ... 
   ELSE
      -- Any other values of myvar
   END IF
</PRE>
<BR>
<P>

<H4><A NAME="SECTION00483020000000000000">
2 Conditional compilation</A>
</H4>

<P>
<PRE>   IF cexpr THEN
      block 
   [ ELSIF cexpr THEN block ...] 
   [ ELSE block ] 
   END IF
</PRE>

<P>
In this case, a new scope is <I>NOT</I> opened. If <I>cexpr</I><A NAME="tex2html21"
  HREF="#foot1609"><SUP><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="footnote.png"></SUP></A> is 0, the associated statements are skipped without further processing,
so it can be used to create a block comment.

<P>
<B>Example</B>: <PRE>   IF target_chip = 16f877 THEN
      -- Execution part if PIC16F877 
   ELSIF target_chip = 16f876 THEN
      -- Execution part if PIC16F876 
   ELSE
      -- Execution part other chips 
   END IF
</PRE>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00484000000000000000">
4 WHILE</A>
</H2>

<P>
The WHILE statement allows conditional looping.

<P>
<PRE>   WHILE expr LOOP
      block 
   END LOOP
</PRE>

<P>
A while statement evaluates the expression (<I>expr</I>). If the result
is false, the while statement has completed its execution. Otherwise
the statements are executed, after which the expression is evaluated
again etc. The <I>block</I> statements will be executed as long as
<I>expr</I> is non-0

<P>
<B>Example</B>: <PRE>   while r &gt; y loop
      d = d + 1
      r = r - y
   end loop
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00485000000000000000">
5 FOR</A>
</H2>

<P>
The FOR statement allows looping a given number of times.

<P>
<PRE> 
   FOR expr [ USING variable ] LOOP 
      block 
   END LOOP
</PRE>

<P>
If the <I>USING variable</I> clause does not exist, the variable <I>_temp</I>
is used instead of. If <I>_temp</I> is needed, its type will be the
same type as <I>expr</I>.

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00486000000000000000">
6 FOREVER</A>
</H2>

<P>
The <I>FOREVER</I> statement simply creates a loop that will never
end.

<P>
<PRE>   FOREVER LOOP 
      block 
   END LOOP
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00487000000000000000">
7 COUNT</A>
</H2>

<P>
<A NAME="sub:COUNT"></A>The COUNT statement returns the number of elements
of an <I>array</I>, can be used anywhere a constant is expected:

<P>
<PRE>   -- using constant tables
   const byte x[] = "hello"
   var byte y
   var volatile byte z

   for count(x) using y loop
      z = x[y]
   end loop

   -- using variable tables
   var byte m[] = "hello"
   var byte n
   var volatile byte p

   for count(m) using n loop
      p = m[n]
   end loop
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00488000000000000000">
8 _usec_delay</A>
</H2>

<P>
The _USEC_DELAY creates an inline delay. 

<P>
<PRE>  _usec_delay(cexpr)
</PRE><A NAME="tex2html22"
  HREF="#foot1610"><SUP><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="footnote.png"></SUP></A>
<P>
For clock speeds 4MHz and higher, the delay is exact assuming interrupts
are not enabled. A previous <code>pragma target clock ... </code> <I>pragma
statement</I> is required, or the error <I>target_clock not found</I>
will be generated. The longest delay available is about 35 minutes,
but this requires 5K code at 20MHz.

<P>
<PRE>   _usec_delay(1000)  -- 1 msec delay with a 4MHz Xtal.
</PRE>

<P>
<BR><HR><H4>Footnotes</H4>
<DL>
<DT><A NAME="foot1609">...cexpr</A><A
 HREF="pjal_doc_a4_node12.html#tex2html21"><SUP><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="footnote.png"></SUP></A></DT>
<DD><I>cexpr</I> means a constant expression or a literal value.

</DD>
<DT><A NAME="foot1610">...</A><A
 HREF="pjal_doc_a4_node12.html#tex2html22"><SUP><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="footnote.png"></SUP></A></DT>
<DD><I>cexpr</I> means a constant expression or a literal value.

</DD>
</DL><HR>
<!--Navigation Panel-->
<A NAME="tex2html414"
  HREF="pjal_doc_a4_node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html410"
  HREF="pjal_doc_a4_node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html404"
  HREF="pjal_doc_a4_node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html412"
  HREF="pjal_doc_a4_node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html415"
  HREF="pjal_doc_a4_node13.html">9 Procedures and functions</A>
<B> Up:</B> <A NAME="tex2html411"
  HREF="pjal_doc_a4_node4.html">1 Language definition</A>
<B> Previous:</B> <A NAME="tex2html405"
  HREF="pjal_doc_a4_node11.html">7 Expressions</A>
 &nbsp; <B>  <A NAME="tex2html413"
  HREF="pjal_doc_a4_node2.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<HR>pJAL Manual.<BR>(c) 2006 Javier Martinez, Vasile Surducan and Dave Lagzdin.
</ADDRESS>
</BODY>
</HTML>
