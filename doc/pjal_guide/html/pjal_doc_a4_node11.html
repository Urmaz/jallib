<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>7 Expressions</TITLE>
<META NAME="description" CONTENT="7 Expressions">
<META NAME="keywords" CONTENT="pjal_doc_a4">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="pjal_doc_a4.css">

<LINK REL="next" HREF="pjal_doc_a4_node12.html">
<LINK REL="previous" HREF="pjal_doc_a4_node10.html">
<LINK REL="up" HREF="pjal_doc_a4_node4.html">
<LINK REL="next" HREF="pjal_doc_a4_node12.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html400"
  HREF="pjal_doc_a4_node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html396"
  HREF="pjal_doc_a4_node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html390"
  HREF="pjal_doc_a4_node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html398"
  HREF="pjal_doc_a4_node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html401"
  HREF="pjal_doc_a4_node12.html">8 Statements</A>
<B> Up:</B> <A NAME="tex2html397"
  HREF="pjal_doc_a4_node4.html">1 Language definition</A>
<B> Previous:</B> <A NAME="tex2html391"
  HREF="pjal_doc_a4_node10.html">6 Tables</A>
 &nbsp; <B>  <A NAME="tex2html399"
  HREF="pjal_doc_a4_node2.html">Contents</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html402"
  HREF="pjal_doc_a4_node11.html#SECTION00471000000000000000">1 Operators</A>
<LI><A NAME="tex2html403"
  HREF="pjal_doc_a4_node11.html#SECTION00472000000000000000">2 Priority</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00470000000000000000">
7 Expressions</A>
</H1>

<P>
<A NAME="sub:Expressions"></A>
<P>
An expression is constructed from literals, identifiers, function
calls and operators. An identifier can identify a constant, a variable
or (within a subprogram) a formal parameter.

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00471000000000000000">
1 Operators</A>
</H2>

<P>
<A NAME="sub:Operators"></A>The following operators are defined in <I>JAL 2.0</I> (ordered by priority):

<P>

<BR>
<P>

<P>
<BR>

<DIV ALIGN="CENTER">
<TABLE CELLPADDING=3 BORDER="1">
<TR><TH ALIGN="CENTER"><B>Op.</B></TH>
<TH ALIGN="LEFT"><B>Description</B></TH>
<TH ALIGN="CENTER"><B>Priority</B></TH>
<TH ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<B>Example</B></TH>
</TR>
<TR><TD ALIGN="CENTER">&nbsp;</TD>
<TD ALIGN="LEFT">&nbsp;</TD>
<TD ALIGN="CENTER">&nbsp;</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>&nbsp;</TD>
</TR>
<TR><TD ALIGN="CENTER"><code>!!</code></TD>
<TD ALIGN="LEFT">Logical</TD>
<TD ALIGN="CENTER">0 (highest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>!!5 = 1 </code>
<BR><code>!!0 = 0</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>-</code></TD>
<TD ALIGN="LEFT">Unary negation</TD>
<TD ALIGN="CENTER">0 (highest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>-1 -- negative</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>!</code></TD>
<TD ALIGN="LEFT">Bitwise complement</TD>
<TD ALIGN="CENTER">0 (highest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=0b_0000_1111</code>
<BR><code>a=!a</code>
<BR><code>-- a=0b_1111_0000 </code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>~</code></TD>
<TD ALIGN="LEFT">Bitwise complement</TD>
<TD ALIGN="CENTER">0 (highest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=0b_0000_1111</code>
<BR><code>a=~a</code>
<BR><code>-- a=0b_1111_0000 </code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>*</code></TD>
<TD ALIGN="LEFT">Multiplication</TD>
<TD ALIGN="CENTER">1</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 2</code>
<BR><code>a=a*3 -- a=6</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>/</code></TD>
<TD ALIGN="LEFT">Integer division</TD>
<TD ALIGN="CENTER">1</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 17</code>
<BR><code>a=a/2 -- a=8</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>%</code></TD>
<TD ALIGN="LEFT">Modulus division</TD>
<TD ALIGN="CENTER">1</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 17</code>
<BR><code>a=a%2 -- a=1</code></TD>
</TR>
<TR><TD ALIGN="CENTER">+</TD>
<TD ALIGN="LEFT">Addition</TD>
<TD ALIGN="CENTER">2</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 2</code>
<BR><code>a=a</code>+<code>3 -- a=5</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>-</code></TD>
<TD ALIGN="LEFT">Subtraction</TD>
<TD ALIGN="CENTER">2</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 17</code>
<BR><code>a=a-10 -- a=7</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&lt;&lt;</code></TD>
<TD ALIGN="LEFT">Left shift</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 0x81</code>
<BR><code>a=a&lt;&lt;1 -- a=0x02</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&gt;&gt;</code></TD>
<TD ALIGN="LEFT">Right shift</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a = 0x82</code>
<BR><code>a=a&gt;&gt;1 -- a=0x41</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&lt;</code></TD>
<TD ALIGN="LEFT">Less than</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=12, b=14</code>
<BR><code>if a &lt; b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&lt;</code><code>=</code></TD>
<TD ALIGN="LEFT">Less or equal than</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=12, b=12</code>
<BR><code>if a &lt;= b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>==</code></TD>
<TD ALIGN="LEFT">Equal</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=12, b=12</code>
<BR><code>if a == b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>!</code><code>=</code></TD>
<TD ALIGN="LEFT">Not equal</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=12, b=14</code>
<BR><code>if a != b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&gt;</code><code>=</code></TD>
<TD ALIGN="LEFT">Greater or equal than</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=14, b=12</code>
<BR><code>if a &gt;= b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&gt;</code></TD>
<TD ALIGN="LEFT">Greater than</TD>
<TD ALIGN="CENTER">3</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=12, b=12</code>
<BR><code>if a &gt;= b then ...</code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>&amp;</code></TD>
<TD ALIGN="LEFT">Bitwise AND</TD>
<TD ALIGN="CENTER">4 (lowest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=0b_1111_1110</code>
<BR><code>a=a&amp;0b_0000_0011</code>
<BR><code>-- a=0b_0000_0010 </code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>|</code></TD>
<TD ALIGN="LEFT">Bitwise OR</TD>
<TD ALIGN="CENTER">4 (lowest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=0b_0000_1110</code>
<BR><code>a=a|0b_0011_1100</code>
<BR><code>-- a=0b_0011_1110 </code></TD>
</TR>
<TR><TD ALIGN="CENTER"><code>^</code></TD>
<TD ALIGN="LEFT">Bitwise XOR</TD>
<TD ALIGN="CENTER">4 (lowest)</TD>
<TD ALIGN="LEFT" VALIGN="TOP" WIDTH=170>
<code>var byte a=0b_1111_1110</code>
<BR><code>a=a^0b_0000_0011</code>
<BR><code>-- a=0b_1111_1101 </code></TD>
</TR>
<TR><TD ALIGN="CENTER" COLSPAN=4>&nbsp;</TD>
</TR>
</TABLE>
</DIV>

<P>
Tips:

<P>

<UL>
<LI>The <I>Logical</I> operator <code>"!!"</code> returns 0 if the operand
is 0, or 1 if the operand is not 0. It's useful in some expressions
which need a guarantee that operand is either 1 or 0.
</LI>
<LI>Right shift is logical for unsigned types, and arithmetic for signed
types (it's sign preserving). 
</LI>
</UL>

<P></P>

<DIV ALIGN="CENTER">
Logical right shift (for unsigned types):
</DIV>

<P>
<DIV ALIGN="CENTER">
<IMG
  WIDTH="394" HEIGHT="169" ALIGN="BOTTOM" BORDER="0"
 SRC="./LogicalShiftRight.png"
 ALT="Image LogicalShiftRight">
</DIV>

<P>

<P></P>

<DIV ALIGN="CENTER">
Arithmetic right shift (for signed types):
</DIV>

<P>
<DIV ALIGN="CENTER">
<IMG
  WIDTH="319" HEIGHT="169" ALIGN="BOTTOM" BORDER="0"
 SRC="./ArithmaticShiftRight.png"
 ALT="Image ArithmaticShiftRight">
</DIV>

<P>

<UL>
<LI>Operands to binary operations <I>MUST</I> be the same, and return
the type of the operand <I>EXCEPT</I> the relationals (<code>"&gt;="</code>,
<code>"&lt;"</code>, etc.), which return a BIT value. 
</LI>
</UL>
<B>Example</B>: <PRE>   -- Use of relationals as BIT type selector:
  const myclk = 1 * ( SPI_clock == (target_clock / 4)  ) +
                2 * ( SPI_clock == (target_clock / 16) ) +
                3 * ( SPI_clock == (target_clock / 64) )
   -- myclk being assigned 1, 2, 3, or 0.
</PRE>

<P>

<UL>
<LI>An exception to the above rule is the universal type : when used in
an expression, the universal type will be converted to type of the
other operand.
</LI>
</UL>

<BR>
<P>
<B>Example</B>: <PRE>   var byte a = 1 &lt;&lt; n
   if ( a &gt; b ) | ( c &lt; d ) | ( x != y ) then 
      x = ( x &amp; 0b_1100_0011 ) | 0b_0001_0100
   end if
</PRE>

<P>
<BR CLEAR="ALL">
<HR>
<P>

<H2><A NAME="SECTION00472000000000000000">
2 Priority</A>
</H2>

<P>
<A NAME="sub:Priority"></A>
<P>
Braces can be used to force the association, otherwise the operator's
associate with their arguments according to operator's priority. 

<P>

<BR>
<P>
<B>Example</B>: <PRE>   var byte x = ! a + b  -- ( ! a ) + b
   var y = ! ( a + b )   -- not the same as previous
</PRE>

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html400"
  HREF="pjal_doc_a4_node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html396"
  HREF="pjal_doc_a4_node4.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html390"
  HREF="pjal_doc_a4_node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html398"
  HREF="pjal_doc_a4_node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html401"
  HREF="pjal_doc_a4_node12.html">8 Statements</A>
<B> Up:</B> <A NAME="tex2html397"
  HREF="pjal_doc_a4_node4.html">1 Language definition</A>
<B> Previous:</B> <A NAME="tex2html391"
  HREF="pjal_doc_a4_node10.html">6 Tables</A>
 &nbsp; <B>  <A NAME="tex2html399"
  HREF="pjal_doc_a4_node2.html">Contents</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
<HR>pJAL Manual.<BR>(c) 2006 Javier Martinez, Vasile Surducan and Dave Lagzdin.
</ADDRESS>
</BODY>
</HTML>
