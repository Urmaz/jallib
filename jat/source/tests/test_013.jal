;------------------------------------------------------------------------------
; test of direct access arrays
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; Begin of test procedure/function definitions
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
var byte bravo[6] ; global var


procedure alpha() is
  var byte bravo[4] ; local var
   var byte i

   for 4 using i loop   
      bravo[i] = i + 20   
      print_var(bravo[i])
   end loop
   
end procedure 

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; End of test procedure/function definitions
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------


for 10 loop
   var sbyte i

   delay_1ms(300)    
   start_of_test_marker()   
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
   ; Start of test code
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------

   ;---------------------------------------------------------------------------
   ; test direct access to global array
   test_header(0)

   for 6 using i loop   
      bravo[i] = i + 10   
      print_var(bravo[i])
   end loop

   ;---------------------------------------------------------------------------
   ; test direct access to local scoped array with same name
   test_header(1)
   alpha()


   ;---------------------------------------------------------------------------
   ; Check if we did not touch global array
   test_header(2)
   for 6 using i loop   
      print_var(bravo[i])
   end loop
   
   ;---------------------------------------------------------------------------
   ; Test of count()
   test_header(2)
   print_var(count(bravo))
   
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
   ; End of test code
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
      
end loop
