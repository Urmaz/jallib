;------------------------------------------------------------------------------
; test of bit vars
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; Begin of test procedure/function definitions
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

procedure togglebit (volatile bit in out t) is                           

   t =! t  

end procedure

procedure togglevolatilebit(volatile bit in out t) is                           

   t =! t  

end procedure

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; End of test procedure/function definitions
;------------------------------------------------------------------------------
;------------------------------------------------------------------------------

var bit alpha;

for 10 loop

   delay_1ms(300)    
   start_of_test_marker()   
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
   ; Start of test code
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------

   ;---------------------------------------------------------------------------
   ; test of bit assign
   test_header(1)


   alpha = 1 
   print_var(alpha)
   
   alpha = 0
   print_var(alpha)


   ;---------------------------------------------------------------------------
   ; test of bit as param (reference)
   test_header(2)

   alpha = 0 

   togglebit(alpha)
   print_var(alpha)

   togglebit(alpha)
   print_var(alpha)

   ;---------------------------------------------------------------------------
   ; test of bit as param (volatile)
   test_header(3)

   alpha = 0 

   togglevolatilebit(alpha)
   print_var(alpha)

   togglevolatilebit(alpha)
   print_var(alpha)

   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
   ; End of test code
   ;---------------------------------------------------------------------------
   ;---------------------------------------------------------------------------
      
end loop
